var i=true,k=null,l=false,n,q=this;function r(){}
function aa(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function s(a){return a!==undefined}function t(a){return aa(a)=="array"}function ba(a){var b=aa(a);return b=="array"||b=="object"&&typeof a.length=="number"}function u(a){return typeof a=="string"}function ca(a){return typeof a=="number"}function da(a){return aa(a)=="function"}function ea(a){a=aa(a);return a=="object"||a=="array"||a=="function"}function fa(a){return a[ga]||(a[ga]=++ha)}
var ga="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ha=0;function ia(a){return a.call.apply(a.bind,arguments)}function ja(a,b){var c=b||q;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function ka(){ka=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ia:ja;return ka.apply(k,arguments)}function la(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var ma=Date.now||function(){return+new Date};function w(a,b){function c(){}c.prototype=b.prototype;a.db=b.prototype;a.prototype=new c};var na={},oa,pa,qa;function x(a,b){this.x=s(a)?a:0;this.y=s(b)?b:0}x.prototype.e=function(){return new x(this.x,this.y)};function ra(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};function sa(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}sa.prototype.e=function(){return new sa(this.top,this.right,this.bottom,this.left)};sa.prototype.contains=function(a){a=!this||!a?l:a instanceof sa?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};
sa.prototype.expand=function(a,b,c,d){if(ea(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};function y(a,b){this.width=a;this.height=b}n=y.prototype;n.e=function(){return new y(this.width,this.height)};function ta(a){return a.width*a.height}n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a){this.width*=a;this.height*=a;return this};sa.prototype.size=function(){return new y(this.right-this.left,this.bottom-this.top)};function ua(){}ua.prototype.m=r;function z(a){return a.Rc?a.Rc:a}function va(a,b){wa(b,a);b.Rc=z(a);return b};var A=new ua;A.Ma=function(){};
A.Pd=function(){var a=this.ra,b=this.Kb(),c=this.da||1,d=c/a,e;if(this.b){if(this.zb&&this.zb.contains(b)&&(e=ta(this.zb.size())/ta(b.size()))&&e<1.6&&e>0.5)b=this.zb;else if(this.Ne!=1&&this.g.length!=0)this instanceof B||b.expand(12,12,12,12);this.zb=b;var f=b.size();e=f.e().scale(c).ceil();if(this.b.width!=e.width||this.b.height!=e.height){this.b.width=e.width;this.b.height=e.height;this.Ob=1}var g=this.B.e();if(this.l[C])g=this.l[C];e.width!=0?g.scale(f.width*d/e.width):g.scale(1/a);a=D(this);
this.$b=(a.left-b.left)*c;this.ac=(a.top-b.top)*c;b=this.f().e();a=this.W;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.d.e();if(this.l[E])c=this.l[E];c.x*=d;c.y*=d;c.x-=b.width+this.$b;c.y-=b.height+this.ac;xa(this.b,(this.$b+b.width)/e.width*100,(this.ac+b.height)/e.height*100,i);if(!this.S[E]&&!this.S[C]&&!this.S[ya]){d=-(this.ea%=360);if(s(this.l[ya]))d=-this.l[ya];za(this.b,Aa(new Ba,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d))}if(this.Ob){d=this.b.getContext("2d");c=this.da||1;d.clearRect(0,
0,e.width,e.height);d.save();d.translate(this.$b,this.ac);d.scale(c,c);e=this.f();g=this.W;d.translate(e.width*g.x,e.height*g.y);this.q.gd.call(this,d);d.restore();this.Ob=0}}};A.update=function(){};
A.gd=function(a){if(this.v){if(this.j!=this.ma){this.ma&&F.Dd.call(this);this.j&&F.Nc.call(this)}if(!this.Fa)if(!(this.Eb||this.z==0||this.nc==1)){if(this.z!=1)a.globalAlpha*=this.z;if(this.j){F.Tc.call(this.j);var b=this.ma,c=this.B;a.save();a.save();a.translate(b.sd.x,b.sd.y);a.rotate(-b.td);this.pb&&a.rotate((this.ea%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.uc/c.x,0);a.lineTo(b.uc/c.x,b.tc/c.y);a.lineTo(0,b.tc/c.y);a.closePath();a.restore();a.clip()}b=new x(0,0);this.q.m.call(this,
a);for(var d=0,e;e=this.g[d];d++){var f=Ca(e,b).e(),g=e.ea%=360;c=e.B;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);g!=0&&a.rotate(-g*Math.PI/180);this.q.gd.call(e,a);a.restore()}if(this.z!=1)a.globalAlpha/=this.z;this.ma&&a.restore()}}};function Da(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Ea(a){if(!Fa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Ga,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ha,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ia,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ja,"&quot;");return a}var Ga=/&/g,Ha=/</g,Ia=/>/g,Ja=/\"/g,Fa=/[&<>\"]/;
function Ka(a,b){for(var c=0,d=Da(String(a)).split("."),e=Da(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var h=d[g]||"",j=e[g]||"",m=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(h)||["","",""],v=o.exec(j)||["","",""];if(p[0].length==0&&v[0].length==0)break;c=La(p[1].length==0?0:parseInt(p[1],10),v[1].length==0?0:parseInt(v[1],10))||La(p[2].length==0,v[2].length==0)||La(p[2],v[2])}while(c==0)}return c}
function La(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var G=Array.prototype,Ma=G.indexOf?function(a,b,c){return G.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:c<0?Math.max(0,a.length+c):c;if(u(a)){if(!u(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Na=G.forEach?function(a,b,c){G.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Oa=G.filter?function(a,b,c){return G.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],
f=0,g=u(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var j=g[h];if(b.call(c,j,h,a))e[f++]=j}return e},Pa=G.map?function(a,b,c){return G.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=u(a)?a.split(""):a,g=0;g<d;g++)if(g in f)e[g]=b.call(c,f[g],g,a);return e};function Qa(a,b){Ma(a,b)>=0||a.push(b)}function Ra(a,b){var c=Ma(a,b);c>=0&&G.splice.call(a,c,1)}function Sa(){return G.concat.apply(G,arguments)}
function Ta(a){if(t(a))return Sa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Ua(a){if(t(a))return Sa(a);return Ta(a)}function Va(a){G.splice.apply(a,Wa(arguments,1))}function Wa(a,b,c){return arguments.length<=2?G.slice.call(a,b):G.slice.call(a,b,c)};function H(a,b){this.x=Number(a)||0;this.y=Number(b)||0}w(H,x);H.prototype.e=function(){return new H(this.x,this.y)};H.prototype.scale=function(a){this.x*=a;this.y*=a;return this};function Xa(a){a.x=-a.x;a.y=-a.y}H.prototype.normalize=function(){return this.scale(1/Math.sqrt(this.x*this.x+this.y*this.y))};H.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};var Ya,Za,$a,ab,bb,cb;function db(){return q.navigator?q.navigator.userAgent:k}bb=ab=$a=Za=Ya=l;var eb;if(eb=db()){var fb=q.navigator;Ya=eb.indexOf("Opera")==0;Za=!Ya&&eb.indexOf("MSIE")!=-1;ab=($a=!Ya&&eb.indexOf("WebKit")!=-1)&&eb.indexOf("Mobile")!=-1;bb=!Ya&&!$a&&fb.product=="Gecko"}var gb=Ya,I=Za,hb=bb,J=$a,ib=ab,jb,kb=q.navigator;jb=kb&&kb.platform||"";cb=jb.indexOf("Mac")!=-1;var lb=jb.indexOf("Win")!=-1,mb;
a:{var nb="",ob;if(gb&&q.opera){var pb=q.opera.version;nb=typeof pb=="function"?pb():pb}else{if(hb)ob=/rv\:([^\);]+)(\)|;)/;else if(I)ob=/MSIE\s+([^\);]+)(\)|;)/;else if(J)ob=/WebKit\/(\S+)/;if(ob){var qb=ob.exec(db());nb=qb?qb[1]:""}}if(I){var rb,sb=q.document;rb=sb?sb.documentMode:undefined;if(rb>parseFloat(nb)){mb=String(rb);break a}}mb=nb}var tb={};function ub(a){return tb[a]||(tb[a]=Ka(mb,a)>=0)};function vb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var wb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function wa(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<wb.length;e++){b=wb[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var xb;!I||ub("9");var yb=I&&!ub("8");function zb(){}zb.prototype.ed=l;zb.prototype.Ab=function(){if(!this.ed){this.ed=i;this.$()}};zb.prototype.$=function(){};function Ab(a,b){this.type=a;this.currentTarget=this.target=b}w(Ab,zb);n=Ab.prototype;n.$=function(){delete this.type;delete this.target;delete this.currentTarget};n.qa=l;n.rb=i;n.stopPropagation=function(){this.qa=i};n.preventDefault=function(){this.rb=l};var Bb=new Function("a","return a");function Cb(a,b){a&&this.Fb(a,b)}w(Cb,Ab);n=Cb.prototype;n.target=k;n.relatedTarget=k;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.ke=l;n.na=k;
n.Fb=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(hb)try{Bb(d.nodeName)}catch(e){d=k}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ke=cb?a.metaKey:a.ctrlKey;this.state=a.state;this.na=a;delete this.rb;delete this.qa};n.stopPropagation=function(){Cb.db.stopPropagation.call(this);if(this.na.stopPropagation)this.na.stopPropagation();else this.na.cancelBubble=i};
n.preventDefault=function(){Cb.db.preventDefault.call(this);var a=this.na;if(a.preventDefault)a.preventDefault();else{a.returnValue=l;if(yb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};n.$=function(){Cb.db.$.call(this);this.relatedTarget=this.currentTarget=this.target=this.na=k};function Db(){}var Eb=0;n=Db.prototype;n.key=0;n.Za=l;n.Uc=l;n.Fb=function(a,b,c,d,e,f){if(da(a))this.pd=i;else if(a&&a.handleEvent&&da(a.handleEvent))this.pd=l;else throw Error("Invalid listener argument");this.ob=a;this.Cd=b;this.src=c;this.type=d;this.capture=!!e;this.jc=f;this.Uc=l;this.key=++Eb;this.Za=l};n.handleEvent=function(a){if(this.pd)return this.ob.call(this.jc||this.src,a);return this.ob.handleEvent.call(this.ob,a)};var Fb;var Gb=(Fb="ScriptEngine"in q&&q.ScriptEngine()=="JScript")?q.ScriptEngineMajorVersion()+"."+q.ScriptEngineMinorVersion()+"."+q.ScriptEngineBuildVersion():"0";function K(a,b){this.ud=b;this.Ba=[];if(a>this.ud)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.Ba.push(this.ia?this.ia():{})}w(K,zb);K.prototype.ia=k;K.prototype.dd=k;function Hb(a){if(a.Ba.length)return a.Ba.pop();return a.ia?a.ia():{}}function Ib(a,b){a.Ba.length<a.ud?a.Ba.push(b):Jb(a,b)}function Jb(a,b){if(a.dd)a.dd(b);else if(ea(b))if(da(b.Ab))b.Ab();else for(var c in b)delete b[c]}
K.prototype.$=function(){K.db.$.call(this);for(var a=this.Ba;a.length;)Jb(this,a.pop());delete this.Ba};var Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub;
(function(){function a(){return{Z:0,U:0}}function b(){return[]}function c(){function v(X){return g.call(v.src,v.key,X)}return v}function d(){return new Db}function e(){return new Cb}var f=Fb&&!(Ka(Gb,"5.7")>=0),g;Pb=function(v){g=v};if(f){Kb=function(){return Hb(h)};Lb=function(v){Ib(h,v)};Mb=function(){return Hb(j)};Nb=function(v){Ib(j,v)};Ob=function(){return Hb(m)};Qb=function(){Ib(m,c())};Rb=function(){return Hb(o)};Sb=function(v){Ib(o,v)};Tb=function(){return Hb(p)};Ub=function(v){Ib(p,v)};var h=
new K(0,600);h.ia=a;var j=new K(0,600);j.ia=b;var m=new K(0,600);m.ia=c;var o=new K(0,600);o.ia=d;var p=new K(0,600);p.ia=e}else{Kb=a;Lb=r;Mb=b;Nb=r;Ob=c;Qb=r;Rb=d;Sb=r;Tb=e;Ub=r}})();var Vb={},L={},Wb={},Xb={};
function M(a,b,c,d,e){if(b)if(t(b)){for(var f=0;f<b.length;f++)M(a,b[f],c,d,e);return k}else{d=!!d;var g=L;b in g||(g[b]=Kb());g=g[b];if(!(d in g)){g[d]=Kb();g.Z++}g=g[d];var h=fa(a),j;g.U++;if(g[h]){j=g[h];for(f=0;f<j.length;f++){g=j[f];if(g.ob==c&&g.jc==e){if(g.Za)break;return j[f].key}}}else{j=g[h]=Mb();g.Z++}f=Ob();f.src=a;g=Rb();g.Fb(c,f,a,b,d,e);c=g.key;f.key=c;j.push(g);Vb[c]=g;Wb[h]||(Wb[h]=Mb());Wb[h].push(g);if(a.addEventListener){if(a==q||!a.cc)a.addEventListener(b,f,d)}else a.attachEvent(Yb(b),
f);return c}else throw Error("Invalid event type");}function Zb(a,b,c,d,e){if(t(b))for(var f=0;f<b.length;f++)Zb(a,b[f],c,d,e);else{d=!!d;a:{f=L;if(b in f){f=f[b];if(d in f){f=f[d];a=fa(a);if(f[a]){a=f[a];break a}}}a=k}if(a)for(f=0;f<a.length;f++)if(a[f].ob==c&&a[f].capture==d&&a[f].jc==e){$b(a[f].key);break}}}
function $b(a){if(Vb[a]){var b=Vb[a];if(!b.Za){var c=b.src,d=b.type,e=b.Cd,f=b.capture;if(c.removeEventListener){if(c==q||!c.cc)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Yb(d),e);c=fa(c);e=L[d][f][c];if(Wb[c]){var g=Wb[c];Ra(g,b);g.length==0&&delete Wb[c]}b.Za=i;e.xd=i;ac(d,f,c,e);delete Vb[a]}}}
function ac(a,b,c,d){if(!d.Ib)if(d.xd){for(var e=0,f=0;e<d.length;e++)if(d[e].Za){var g=d[e].Cd;g.src=k;Qb(g);Sb(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.xd=l;if(f==0){Nb(d);delete L[a][b][c];L[a][b].Z--;if(L[a][b].Z==0){Lb(L[a][b]);delete L[a][b];L[a].Z--}if(L[a].Z==0){Lb(L[a]);delete L[a]}}}}
function bc(a){var b,c=0,d=b==k;b=!!b;if(a==k)vb(Wb,function(g){for(var h=g.length-1;h>=0;h--){var j=g[h];if(d||b==j.capture){$b(j.key);c++}}});else{a=fa(a);if(Wb[a]){a=Wb[a];for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture){$b(f.key);c++}}}}}function Yb(a){if(a in Xb)return Xb[a];return Xb[a]="on"+a}
function cc(a,b,c,d,e){var f=1;b=fa(b);if(a[b]){a.U--;a=a[b];if(a.Ib)a.Ib++;else a.Ib=1;try{for(var g=a.length,h=0;h<g;h++){var j=a[h];if(j&&!j.Za)f&=dc(j,e)!==l}}finally{a.Ib--;ac(c,d,b,a)}}return Boolean(f)}function dc(a,b){var c=a.handleEvent(b);a.Uc&&$b(a.key);return c}
Pb(function(a,b){if(!Vb[a])return i;var c=Vb[a],d=c.type,e=L;if(!(d in e))return i;e=e[d];var f,g;if(xb===undefined)xb=I&&!q.addEventListener;if(xb){var h;if(!(h=b))a:{h="window.event".split(".");for(var j=q;f=h.shift();)if(j[f]!=k)j=j[f];else{h=k;break a}h=j}f=h;h=i in e;j=l in e;if(h){if(f.keyCode<0||f.returnValue!=undefined)return i;a:{var m=l;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(o){m=i}if(m||f.returnValue==undefined)f.returnValue=i}}m=Tb();m.Fb(f,this);f=i;try{if(h){for(var p=Mb(),v=
m.currentTarget;v;v=v.parentNode)p.push(v);g=e[i];g.U=g.Z;for(var X=p.length-1;!m.qa&&X>=0&&g.U;X--){m.currentTarget=p[X];f&=cc(g,p[X],d,i,m)}if(j){g=e[l];g.U=g.Z;for(X=0;!m.qa&&X<p.length&&g.U;X++){m.currentTarget=p[X];f&=cc(g,p[X],d,l,m)}}}else f=dc(c,m)}finally{if(p){p.length=0;Nb(p)}m.Ab();Ub(m)}return f}d=new Cb(b,this);try{f=dc(c,d)}finally{d.Ab()}return f});function ec(){}w(ec,zb);n=ec.prototype;n.cc=i;n.yc=k;n.addEventListener=function(a,b,c,d){M(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Zb(this,a,b,c,d)};
n.dispatchEvent=function(a){if(u(a))a=new Ab(a,this);else if(a instanceof Ab)a.target=a.target||this;else{var b=a;a=new Ab(a.type,this);wa(a,b)}b=1;var c,d=a.type,e=L;if(d in e){e=e[d];d=i in e;var f;if(d){c=[];for(f=this;f;f=f.yc)c.push(f);f=e[i];f.U=f.Z;for(var g=c.length-1;!a.qa&&g>=0&&f.U;g--){a.currentTarget=c[g];b&=cc(f,c[g],a.type,i,a)&&a.rb!=l}}if(l in e){f=e[l];f.U=f.Z;if(d)for(g=0;!a.qa&&g<c.length&&f.U;g++){a.currentTarget=c[g];b&=cc(f,c[g],a.type,l,a)&&a.rb!=l}else for(c=this;!a.qa&&c&&
f.U;c=c.yc){a.currentTarget=c;b&=cc(f,c,a.type,l,a)&&a.rb!=l}}a=Boolean(b)}else a=i;return a};n.$=function(){ec.db.$.call(this);bc(this);this.yc=k};var fc,gc,hc,ic,jc,kc=db();gc=(fc=J&&ib&&/(ipod|iphone|ipad)/i.test(kc))&&da(Object.freeze);hc=J&&ib&&/(android)/i.test(kc);ic=J&&/playbook/i.test(kc);jc=s(document.ontouchmove);var lc;function mc(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Wa(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(Ma(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};var nc=!I||ub("9");I&&ub("9");function oc(a){return a?new pc(qc(a)):lc||(lc=new pc)}
function rc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!J||sc(document)||ub("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)if(b==g.nodeName)d[e++]=g;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++){b=g.className;if(typeof b.split=="function"&&Ma(b.split(/\s+/),c)>=0)d[e++]=g}d.length=e;return d}else return a}
function tc(a,b){vb(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in uc)a.setAttribute(uc[d],c);else a[d]=c})}var uc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function vc(a){var b=a.document;if(J&&!ub("500")&&!ib){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new y(a.innerWidth,b)}a=sc(b);if(gb&&!ub("9.50"))a=l;a=a?b.documentElement:b.body;return new y(a.clientWidth,a.clientHeight)}function wc(){return xc(document,arguments)}
function xc(a,b){var c=b[0],d=b[1];if(!nc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ea(d.name),'"');if(d.type){c.push(' type="',Ea(d.type),'"');var e={};wa(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(u(d))c.className=d;else t(d)?mc.apply(k,[c].concat(d)):tc(c,d);b.length>2&&yc(a,c,b,2);return c}
function yc(a,b,c,d){function e(g){if(g)b.appendChild(u(g)?a.createTextNode(g):g)}for(;d<c.length;d++){var f=c[d];ba(f)&&!(ea(f)&&f.nodeType>0)?Na(zc(f)?Ta(f):f,e):e(f)}}function sc(a){return a.compatMode=="CSS1Compat"}function Ac(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function Bc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Cc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Dc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function qc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Ec(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(qc(a).createTextNode(b))}}function zc(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return l}function pc(a){this.aa=a||q.document||document}n=pc.prototype;
n.$c=function(){return xc(this.aa,arguments)};n.createElement=function(a){return this.aa.createElement(a)};n.createTextNode=function(a){return this.aa.createTextNode(a)};n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a){yc(qc(a),a,arguments,1)};n.contains=Dc;function Fc(a,b){var c;a:{c=qc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,k)){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:k)||a.style[b]}
function Gc(a){if(I)return a.offsetParent;var b=qc(a),c=Fc(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Fc(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return k}function Hc(a,b,c){if(b instanceof y){c=b.height;b=b.width}else if(c==undefined)throw Error("missing height argument");a.style.width=Ic(b);a.style.height=Ic(c)}
function Ic(a){if(typeof a=="number")a=Math.round(a)+"px";return a}
function Jc(a){var b=gb&&!ub("10");if(Fc(a,"display")!="none")return b?new y(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new y(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new y(b,a)}
function Kc(a){var b=oc(void 0),c=k;if(I){c=b.aa.createStyleSheet();Lc(c,a)}else{var d=rc(b.aa,"head",void 0,void 0)[0];if(!d){c=rc(b.aa,"body",void 0,void 0)[0];d=b.$c("head");c.parentNode.insertBefore(d,c)}c=b.$c("style");Lc(c,a);b.appendChild(d,c)}return c}function Lc(a,b){if(I)a.cssText=b;else a[J?"innerText":"innerHTML"]=b};var Mc,Nc,Oc,Pc,Qc,Rc,Sc;(function(){var a=J?"Webkit":hb?"Moz":gb?"O":I?"ms":"",b=wc("div").style;Mc="-"+a.toLowerCase()+"-transform";Nc=function(c){return b[c]!==undefined?c:l};Oc=function(c){var d=c.charAt(0).toLowerCase()+c.substr(1),e=a+c;return Nc(c)?c:Nc(d)?d:Nc(e)?e:undefined}})();var Tc=function(){var a=Oc("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=s(d)?d:c;c=(t(c)?c.join(e+" "):c)+e+"/"+((t(d)?d.join(e+" "):d)+e);if(c!=b.Ld)b.style[a]=b.Ld=c}}();
function Ba(a){this.Ub=[];this.Xa=1;this.Ie&&Aa(this,a)}Ba.prototype.scale=function(a,b){this.Ub.push("scale("+a+","+b+")");return this};Ba.prototype.rotate=function(a,b){a!=0&&this.Ub.push("rotate("+a+(b?b:"deg")+")");return this};Ba.prototype.translate=function(a,b,c){var d=1/this.Xa,e="translate";if(fc||ic)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(fc||ic)e+=","+(c?c:0)*d+"px";this.Ub.push(e+")");return this};
function Aa(a,b){if(a.Xa!=1){var c=1/a.Xa;a.scale(c,c);a.Xa=1}if(b!=1){a.scale(b,b);a.Xa=b}return a}Ba.prototype.toString=function(){this.Xa!=1&&Aa(this,1);return this.Ub.join(" ")};var za=function(){var a=Oc("Transform");return function(b,c){var d=c.toString();if(d!=b.ve)b.style[a]=b.ve=d;oa=1}}(),xa=function(){var a=Oc("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;if(c!=b.we)b.style[a]=b.we=c}}();
(function(){function a(c,d){if(!c.length)return c;for(var e=c.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=Oa(e,function(g){return g.indexOf(d)==-1});return e.join(",")}var b=Oc("Transition");Pc=!!b&&!gb;Qc=function(c,d,e,f){if(b){var g=a(c.style[b],d);if(g.length)g+=", ";g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};Rc=function(c,d){if(b&&c)c.style[b]=a(c.style[b],d)};Sc=function(c,d,e){if(c.ze!=d||c.Xd!=e){c.ze=d;c.Xd=e;Hc(c,d,e)}}})();var F=new ua;F.Ma=function(){for(var a=0,b,c=0;b=this.g[c];c++){b=b instanceof N?b.A:b;if(b==this.b.childNodes[a])a++;else{Dc(this.N,b)&&Cc(b);F.Jd(this.N,b,a++)}}};
F.Qd=function(){var a=this.f(),b=this.ra,c=this.d,d=this.da||1;if(this.l[E])c=this.l[E];var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.B.e();if(this.l[C])g=this.l[C].e();e!=0?g.scale(a.width/(e*b/d)):g.scale(1/b);Sc(this.b,e,f);xa(this.b,this.W.x*100,this.W.y*100,i);e=this.W.x*a.width*d;f=this.W.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.L?this.L.Vb:0;if((e-c!=0||f-c!=0)&&this.b==this.N&&this.g.length)F.fe.call(this);this.b!=this.N&&!this.S[E]&&!this.S[C]&&!this.S[ya]&&za(this.N,(new Ba).translate(e-
c,f-c));if(this.j!=this.ma){this.ma&&F.Dd.call(this);this.j&&F.Nc.call(this)}c=Aa(new Ba,0.1);if(this.j){F.Tc.call(this.j);Aa(Aa(c,0.1).translate(-this.j.de-e,-this.j.ee-f).rotate(this.j.td,"rad").translate(e,f),1)}e=-(this.ea%=360);if(s(this.l[ya]))e=-this.l[ya];c.translate(a,b).scale(g.x,g.y).rotate(e);!this.S[E]&&!this.S[C]&&!this.S[ya]&&za(this.b,c)};
F.update=function(){if(this.b){F.Qd.call(this);if(!this.S[Uc]){var a=this.z;if(s(this.l[Uc]))a=this.l[Uc];if(this.w&Vc){var b=this.b.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"}}if(this.w&Wc)this.b.style.display=this.Eb?"none":"block";this.Fa||this.q.m.call(this,this.b)}};
F.Tc=function(){if(s(this.Ec)&&this.Ec.v){var a=this.Ec,b=D(this),c=new x(b.left,b.top),d=new x(b.right,b.top),e=new x(b.right,b.bottom);b=a.getParent();c=Xc(this,c,b);d=Xc(this,d,b);e=Xc(this,e,b);b=Math.atan2(c.y-d.y,d.x-c.x);var f=d.x-c.x,g=c.y-d.y,h=e.x-d.x,j=e.y-d.y;d=Math.cos(b);e=Math.sin(b);this.uc=Math.round(Math.sqrt(f*f+g*g));this.tc=Math.round(Math.sqrt(h*h+j*j));if(z(a.q)==F){f=a.A;Hc(f,this.uc,this.tc);za(f,Aa(new Ba,0.1).translate(c.x,c.y).rotate(-b,"rad"))}if(z(this.q)==F)this.b.style.display=
"none";this.sd=Yc(a,c.e());this.ce=i;this.de=d*c.x-e*c.y;this.ee=d*c.y+e*c.x;this.td=b}};F.Jd=function(a,b,c){c==undefined||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};F.fe=function(){this.N=wc("div");for(var a=document.createDocumentFragment(),b;b=this.b.firstChild;){this.b.removeChild(b);a.appendChild(b)}this.N.appendChild(a);this.b.appendChild(this.N)};
F.Dd=function(){if(this.b!=this.A){if(z(this.q)==F){Cc(this.b);var a=this.A,b=a.parentNode;b&&b.replaceChild(this.b,a);this.A=this.b}this.ma.nc=0;this.ma=k}};F.Nc=function(){if(z(this.q)==F){this.A=wc("div");this.A.style.cssText="position:absolute;overflow:hidden;";xa(this.A,0,0);var a=this.b,b=a.parentNode;b&&b.replaceChild(this.A,a);this.A.appendChild(this.b)}this.j.nc=1;this.j.Ec=this;this.ma=this.j;O(this.j,P)};function Zc(a){this.X=Fb?[]:"";a!=k&&this.append.apply(this,arguments)}if(Fb){Zc.prototype.bc=0;Zc.prototype.append=function(a,b){if(b==k)this.X[this.bc++]=a;else{this.X.push.apply(this.X,arguments);this.bc=this.X.length}return this}}else Zc.prototype.append=function(a,b){this.X+=a;if(b!=k)for(var c=1;c<arguments.length;c++)this.X+=arguments[c];return this};Zc.prototype.clear=function(){if(Fb)this.bc=this.X.length=0;else this.X=""};
Zc.prototype.toString=function(){if(Fb){var a=this.X.join("");this.clear();a&&this.append(a);return a}else return this.X};(function(){var a=[[],[]],b=[[],[]];pa=function(c,d,e){Qa((e?b:a)[d||0],c)};qa=function(){for(var c,d=0;d<2;d++){for(;a[d].length;){c=a[d][0];c.update(d);c.w=0;c==a[d][0]&&a[d].shift()}a[d]=[]}b=[[],[]]}})();var P=1,Vc=16,Wc=32,E=1,C=2,ya=4,Uc=5,$c;var ad=new Zc;
ad.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.",
"lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
$c=ad.toString();Kc($c);function N(){this.g=[];this.k=k;this.la={};this.l={};this.S={};this.Fc={};this.v=l;this.Bc=this.ec=k;this.F={};this.Ia(1);this.a(0,0);this.c(0,0);this.ra=1;this.C(0.5,0.5);this.ea=0;this.l[ya]||O(this,P);this.Qc=0;O(this,7);this.z=1;bd(this,k);cd(this,z(this.ta[0]));O(this,64)}w(N,ec);n=N.prototype;n.ta=[F,A];function cd(a,b){if(!a.q||z(a.q)!=b){for(var c=-1,d=0;d<a.ta.length;d++)if(z(a.ta[d])==b){c=d;break}if(c!=-1){a.q=a.ta[d];O(a,64);for(d=0;c=a.g[d];d++)cd(c,b)}}}
n.pb=function(){return!(this.k&&z(this.k.q)==A)};function dd(a){if(a.pb()){a.pb()?ed(a):fd(a);return a}else if(a.k)return dd(a.k);return k}function gd(a){if(!a.k||a instanceof B)return[];var b=a.k.g.indexOf(a);a=gd(a.k);a.push(b);return a}function hd(a,b){if(a==b)return 0;for(var c=gd(a),d=gd(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}n.cc=l;
function O(a,b,c,d){b&&!a.w&&pa(a,c,d);a.w|=b;if(b==64)for(c=0;d=a.g[c];c++)d instanceof N&&O(d,64);if(!s(a.w)||!b)a.w=0;if(b&&a.Fa){a.ce=l;O(a.Fa,-1)}return a}n.Ia=function(a){this.B=arguments.length==1&&ca(a)?new H(a,a):arguments.length==2?new H(arguments[0],arguments[1]):a;if(this.l[C])return this;return O(this,2)};n.a=function(a){this.d=arguments.length==2?new x(arguments[0],arguments[1]):a;if(this.l[E])return this;return O(this,P)};
function bd(a,b){if(b!=a.j){if(a.j){var c=a.j;delete c.dc;id(c,c.getParent());delete a.j.Fa}a.j=b;if(a.j){jd(a.j);a.j.Fa=a}O(a,4)}}n.C=function(a){this.W=arguments.length==2?new H(arguments[0],arguments[1]):a;return O(this,P)};function kd(a,b){a.Eb=b;O(a,Wc);a.Pc=0}n.f=function(){return this.I};
n.c=function(a){var b=this.I,c,d;c=arguments.length==2?new y(arguments[0],arguments[1]):a;var e=this.W;if(b&&this.g.length)for(var f=0;f<this.g.length;f++){var g=this.g[f];if(g.Vd){var h=g.Qc;if(h!=0){var j=ld(g);d=b.width;var m=j.left+e.x*b.width,o=j.right-j.left,p=d-j.right-e.x*b.width;if(h&1)d-=m;if(h&2)d-=o;if(h&4)d-=p;if(d!=b.width){d=(c.width-d)/(b.width-d);if(h&1)m*=d;if(h&2)o*=d}d=b.height;p=j.top+e.y*b.height;var v=j.bottom-j.top;j=d-j.bottom-e.y*b.height;if(h&8)d-=p;if(h&16)d-=v;if(h&32)d-=
j;if(d!=b.height){d=(c.height-d)/(b.height-d);if(h&8)p*=d;if(h&16)v*=d}h=g.W;g.c(o,v);g.a(m+h.x*o-e.x*c.width,p+h.y*v-e.y*c.height)}}}this.I=c;return O(this,2)};function md(a){if(a.ra!=0.5){a.ra=0.5;O(a,2);nd(a)}return a}function od(a){a.da||nd(a);return a.da}function nd(a){var b=s(a.da)?a.da:a.ra;if(a.k&&a.k.da)b=a.ra*a.k.da;if(b!=a.da){a.da=b;b=0;for(var c;c=a.g[b];b++)c instanceof N&&nd(c);O(a,2)}}n.Vd=function(){return this.Qc};n.Ha=function(a){if(!this.v)return a;return Yc(this,this.getParent().Ha(a))};
function Yc(a,b){if(!a.getParent())return k;b.x-=a.d.x;b.y-=a.d.y;b.x/=a.B.x;b.y/=a.B.y;if(a.ea!=0){var c=b.e(),d=a.ea*Math.PI/180,e=Math.cos(d);d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}n.sc=function(a){if(!this.v)return a;return this.getParent().sc(Ca(this,a))};function Ca(a,b){if(!a.getParent())return b;var c=b.e();if(a.ea!=0){var d=-a.ea*Math.PI/180,e=Math.cos(d);d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.B.x;c.y*=a.B.y;c.x+=a.d.x;c.y+=a.d.y;return c}
function Xc(a,b,c){if(!a.v)return b;return c.Ha(a.sc(b))}function pd(a,b){a.z=b;var c=a.Eb;if(a.z==0&&!c){kd(a,i);a.Pc=1}else a.z!=0&&c&&a.Pc&&kd(a,l);if(s(a.l[Uc]))return a;O(a,Vc);return a}function ed(a){function b(){this.b=this.A=this.N=wc(c);this.lb&&mc(this.b,this.lb);this.w|=-1}var c=z(a.q)==A?"canvas":"div";if(a.b){if(a.b.tagName.toLowerCase()!=c){var d=a.A;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.A,d)}}else b.call(a)}
function fd(a){if(a.A){Cc(a.A);delete a.b;delete a.A;delete a.N}}n.Ma=function(){this.w&=-65;this.pb()?ed(this):fd(this);if(this.k&&this.k.w&64)this.k.Ma();else if(this.pb()){for(var a=0,b;b=this.g[a];a++)b instanceof N&&b.Ma();this.q.Ma.call(this)}};
n.update=function(a){var b,c;a=a||0;fa(this);this.w&64&&this.Ma();var d=z(this.q)==F||a;if(d){for(var e in this.Fc){delete this.l[e];delete this.S[e];b=parseInt(e,10)==Uc?"opacity":Mc;Rc(this.b,b);this.b!=this.N&&Rc(this.Be,b)}b=0;for(e in this.la){c=this.la[e];if(!c[3]){c[3]=1;if(e==E&&this.le!=this.d){O(this,P,0,i);b=1}if(e==C&&this.oe!=this.B){O(this,2,0,i);b=1}if(e==Uc&&this.ie!=this.z){O(this,Vc,0,i);b=1}if(e==ya&&this.ne!=this.ea){O(this,128,0,i);b=1}}}if(!b)for(e in this.la){c=this.la[e];b=
parseInt(e,10)==Uc?"opacity":Mc;if(z(this.q)==F||b!="opacity"){this.l[e]=c[0];Qc(this.b,b,c[1],c[2]);this.b!=this.N&&b==Mc&&Qc(this.N,b,c[1],c[2])}delete this.la[e]}this.le=this.d;this.oe=this.B;this.ie=this.z;this.ne=this.ea;this.Fc={}}if(a)this.q.Pd.call(this);else{if(z(this.q)==A){c=dd(this);c.Ob=1;if(c==this&&this.w==P&&!this.j)c.Ob=0;pa(dd(this),1)}this.q.update.call(this)}if(d)for(e in this.l)if(this.l[e])this.S[e]=i;if(this.xa)for(e=0;e<this.xa.length;e++)O(this.xa[e],7);O(this,0,a)};
n.getParent=function(){return this.k?this.k:k};n.appendChild=function(a,b){if(a instanceof N&&a.getParent())a.getParent().removeChild(a);else a.parentNode&&Cc(a);a.k=this;b==undefined?this.g.push(a):Va(this.g,b,0,a);z(this.q)!=F&&cd(a,z(this.q));if(a instanceof N){nd(a);this.v&&qd(a)}return O(this,64)};
n.removeChild=function(a){a=this.g.indexOf(a);if(a>=0&&this.g.length>a){var b=a>=0&&this.g.length>a?this.g[a]:k;b.Fa&&bd(b.Fa,k);if(b instanceof N){this.v&&rd(b);fd(b);b.k=k}else Cc(b);this.g.splice(a,1);a=O(this,64)}else a=this;return a};n.addEventListener=function(a){if(!(jc&&a.substring(0,5)=="mouse")){s(this.F[a])||(this.F[a]=[0,0]);if(this.v&&this.F[a][0]==0){this.F[a][0]=1;this.J().Ra.Pb(this,a)}this.F[a][1]++}};
n.removeEventListener=function(a){if(!(jc&&a.substring(0,5)=="mouse")){if(this.v&&this.F[a][1]==1){this.F[a][0]=0;this.J().Ra.qb(this,a)}this.F[a][1]--;this.F[a][1]||delete this.F[a]}};n.J=function(){if(!this.v)return k;return this.ec};n.Db=function(){if(!this.v)return k;return this.Bc};function rd(a){var b;a.dc||id(a,a.getParent());for(var c=0;b=a.g[c];c++)b instanceof N&&rd(b);for(var d in a.F){a.F[d][0]=0;if(!a.J())debugger;a.J().Ra.qb(a,d)}sd(a.J().Ra,a);a.v=l;a.ec=k;a.Bc=k}
function qd(a){a.v=i;a.ec=a.k.J();a.Bc=a.k.Db();for(var b=0,c;c=a.g[b];b++)c instanceof N&&qd(c);for(var d in a.F){a.F[d][0]=1;a.J().Ra.Pb(a,d)}a.dc&&jd(a);sd(a.J().Ra,a)}function jd(a){a.dc=i;a.v&&td(a,a.getParent())}function td(a,b){if(!b.xa)b.xa=[];Qa(b.xa,a);!b&&!(b.getParent()instanceof B)&&td(a,b.getParent())}function id(a,b){if(b&&b.xa){Ra(b.xa,a);id(a,b.getParent())}}function D(a){var b=a.f();a=a.W;return new sa(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
function ld(a,b){var c=b||D(a),d=new x(c.left,c.top),e=new x(c.right,c.top),f=new x(c.left,c.bottom);c=new x(c.right,c.bottom);d=Ca(a,d);e=Ca(a,e);f=Ca(a,f);c=Ca(a,c);return new sa(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
n.Kb=function(){var a=D(this);if(a.left==a.right&&this.g.length)a=ld(this.g[0],this.g[0].Kb());for(var b=0,c;c=this.g[b];b++)if(c.nc!=1){var d=a;c=ld(c,c.Kb());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};n.Y=function(a){this.Fc[a]=1};n.Ca=function(a){var b=this.Ha(a.$a);if(D(this).contains(b)){a.position=b;return i}return l};function Q(a,b){Qa(b.ga,a);b.play()};function R(){N.call(this);this.lb="lime-layer"}w(R,N);R.prototype.Ca=function(a){for(var b=0,c;c=this.g[b];b++)if(c.Ca(a)){a.position=this.Ha(a.$a);return i}return l};var S=new function(){this.R=[];this.Oa=l;this.od=0;this.gc=1E3/30;this.Da=0};function ud(a,b){this.p=this.vd=a;this.qc=s(b)?b:-1;this.oa=[]}ud.prototype.cb=function(a){if(this.oa.length)if(this.p>a)this.p-=a;else{var b=this.vd+a-this.p;this.p=this.vd-(a-this.p);if(this.p<0)this.p=0;var c;for(a=this.oa.length;--a>=0;)(c=this.oa[a])&&c[0]&&da(c[1])&&c[1].call(c[2],b);if(this.qc!=-1){this.qc--;this.qc==0&&S.yb(c[1],c[2])}}};S.R.push(new ud(0));S.Lc=q.mozRequestAnimationFrame||q.webkitRequestAnimationFrame;
S.Ee=function(){return this.gc};S.Me=function(a){this.gc=a;if(this.Oa){S.bd();S.Mc()}};S.Rb=function(a,b,c){c=s(c)?c:this.R[0];Qa(c.oa,[1,a,b]);Qa(this.R,c);this.Oa||S.Mc()};S.yb=function(a,b){for(var c=this.R.length;--c>=0;){for(var d=this.R[c],e=d.oa,f,g=e.length;--g>=0;){f=e[g];f[1]==a&&f[2]==b&&Ra(e,f)}e.length==0&&c!=0&&Ra(this.R,d)}this.R.length==1&&this.R[0].oa.length==0&&S.bd()};
S.Mc=function(){if(!this.Oa){this.Da=ma();if(S.Lc)if(q.mozRequestAnimationFrame){q.mozRequestAnimationFrame();this.Sc=ka(S.Kd,this);q.addEventListener("MozBeforePaint",this.Sc,l)}else{this.Zb=ka(S.Id,this);q.webkitRequestAnimationFrame(this.Zb)}else this.od=setInterval(ka(S.te,this),S.gc);this.Oa=i}};S.bd=function(){if(this.Oa){if(S.Lc)q.mozRequestAnimationFrame?q.removeEventListener("MozBeforePaint",this.Sc,l):q.webkitCancelRequestAnimationFrame(this.Zb);else clearInterval(this.od);this.Oa=l}};
S.Id=function(a){a||(a=ma());S.fc(a-this.Da);this.Da=a;q.webkitRequestAnimationFrame(this.Zb)};S.Kd=function(a){S.fc(a.timeStamp-this.Da);this.Da=a.timeStamp;q.mozRequestAnimationFrame()};S.te=function(){var a=ma(),b=a-this.Da;if(b<0)b=1;S.fc(b);this.Da=a};S.fc=function(a){for(var b=this.R.length;--b>=0;)this.R[b].cb(a);if(oa==1&&/Firefox\/4./.test(db())&&!na.Ae){if(S.yd){document.body.style.MozTransform="";S.yd=0}else{document.body.style.MozTransform="scale(1,1)";S.yd=1}oa=0}};
S.Nd=function(a,b){for(var c,d,e,f,g=this.R.length;--g>=0;){c=this.R[g];for(f=c.oa.length;--f>=0;){e=c.oa[f];d=e[2];if(da(d.J)){d=d.J();if(d==a)e[0]=b}}}};S.Md=function(a,b){S.Cc(a,b,100,1)};S.Cc=function(a,b,c,d){S.Rb(a,b,new ud(c,d))};var vd;function T(){this.ga=[];this.mc=[];this.Tb={};this.Ge=l;this.r=1;this.Qa=wd;this.D=0}w(T,ec);n=T.prototype;n.scope="";n.s=function(a){this.r=a;return this};n.play=function(){this.Ad=0;this.kd=this.D=1;S.Rb(this.cb,this);this.dispatchEvent({type:"start"})};n.stop=function(){if(this.D!=0){var a=this.mc;if(xd(this)&&this.Y)for(var b=a.length;--b>=0;)this.Y(a[b]);this.mc=[];this.Tb={};this.D=0;S.yb(this.cb,this);this.dispatchEvent({type:"stop"})}};n.Ua=function(){return{}};
function yd(a,b){var c=fa(b);if(!s(a.Tb[c])){a.mb(b);a.Tb[c]=a.Ua(b)}return a.Tb[c]}n.mb=function(a){zd.Pb(this,a);this.D=1;Qa(this.mc,a);this.vb&&!this.Dc&&this.hb&&this.hb()};n.J=function(){return this.ga[0]?this.ga[0].J():k};n.cb=function(a){this.vb&&!this.Dc&&this.hb&&this.hb();if(this.kd){delete this.kd;a=1}this.Ad+=a;this.De=a;a=this.Ad/(this.r*1E3);if(isNaN(a)||a>=1)a=1;a=this.va(a,this.ga);a==1&&this.stop()};
n.va=function(a,b){a=this.Qa[0](a);if(isNaN(a))a=1;for(var c=b.length;--c>=0;)this.update(a,b[c]);return a};function xd(a){return a.r>0&&Pc&&a.je&&!hc&&!hb}function Ad(a){a.je=s(void 0)?void 0:i;return a}var zd=new function(){this.i={}};zd.Pb=function(a,b){if(a.scope.length){var c=fa(b);s(this.i[c])||(this.i[c]={});s(this.i[c][a.scope])&&this.i[c][a.scope].stop();this.i[c][a.scope]=a}};zd.ue=function(a){a=fa(a);if(s(this.i[a]))for(var b in this.i[a]){this.i[a][b].stop();delete this.i[a][b]}};
(function(){function a(h,j){var m,o,p,v;p=h;for(o=0;o<8;o++){v=((b*p+c)*p+d)*p-h;if((v>=0?v:0-v)<j)return p;m=(3*b*p+2*c)*p+d;if((m>=0?m:0-m)<1.0E-6)break;p-=v/m}m=0;o=1;p=h;if(p<m)return m;if(p>o)return o;for(;m<o;){v=((b*p+c)*p+d)*p;if((v-h>=0?v-h:0-(v-h))<j)break;if(h>v)m=p;else o=p;p=(o-m)*0.5+m}return p}var b=0,c=0,d=0,e=0,f=0,g=0;vd=function(h,j,m,o){return[function(p){d=3*h;c=3*(m-h)-d;b=1-d-c;g=3*j;f=3*(o-j)-g;e=1-g-f;return((e*a(p,5.0E-5)+f)*a(p,5.0E-5)+g)*a(p,5.0E-5)},h,j,m,o]}})();
var Bd=vd(0,0,1,1),wd=vd(0.42,0,0.58,1);var Cd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Dd(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(Ed.test(c)){b.kc=Fd(c);b.type="hex";return b}else{a:{var d=a.match(Gd);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=Hd(e.toString(16));a=Hd(a.toString(16));
c=Hd(c.toString(16));b.kc="#"+e+a+c;b.type="rgb";return b}else if(Cd)if(c=Cd[a.toLowerCase()]){b.kc=c;b.type="named";return b}}throw Error(a+" is not a valid color string");}var Id=/#(.)(.)(.)/;function Fd(a){if(!Ed.test(a))throw Error("'"+a+"' is not a valid hex color");if(a.length==4)a=a.replace(Id,"#$1$1$2$2$3$3");return a.toLowerCase()}function Jd(a,b,c){if(c<0)c+=1;else if(c>1)c-=1;if(6*c<1)return a+(b-a)*6*c;else if(2*c<1)return b;else if(3*c<2)return a+(b-a)*(2/3-c)*6;return a}
var Ed=/^#(?:[0-9a-f]{3}){1,2}$/i,Gd=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Hd(a){return a.length==1?"0"+a:a};function Kd(){}w(Kd,ec);Kd.prototype.lc=r;function Ld(a){if(a[0]instanceof Kd)return a[0];t(a)||(a=Ua(arguments));if(a.length>2)return new Md(a);else if(u(a[0])&&(a[0].substring(0,4)=="rgb("||a[0].substring(0,5)=="rgba("||a[0].substring(0,1)=="#"))return new Md(a[0]);return new Nd(a[0])}Kd.prototype.tb=r;Kd.prototype.sb=r;function Md(a){this.wa=1;this.ab(a)}w(Md,Kd);n=Md.prototype;n.id="color";function Od(a){var b=k;if(ca(a.Ya)&&ca(a.Sa)&&ca(a.Pa))b=[a.Ya,a.Sa,a.Pa,a.wa];else if(u(a.fa)){a=Dd(a.fa);if(a.type!="named"){b=a.kc;b=Fd(b);b=[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16)]}b.push(1)}return b}function Pd(a,b){return Qd(a,2,b)}
function Qd(a,b,c){c=c||0.1;var d=Od(a);if(!d)return a;d.pop();var e=d[0]/255,f=d[1]/255;d=d[2]/255;var g=Math.max(e,f,d),h=Math.min(e,f,d),j=0,m=0,o=0.5*(g+h);if(g!=h){if(g==e)j=60*(f-d)/(g-h);else if(g==f)j=60*(d-e)/(g-h)+120;else if(g==d)j=60*(e-f)/(g-h)+240;m=0<o&&o<=0.5?(g-h)/(2*o):(g-h)/(2-2*o)}d=[Math.round(j+360)%360,m,o];d[b]+=c;if(d[b]>1)d[b]=1;b=d[1];c=d[2];g=f=e=0;d=d[0]/360;if(b==0)e=f=g=c*255;else{h=g=0;h=c<0.5?c*(1+b):c+b-b*c;g=2*c-h;e=255*Jd(g,h,d+1/3);f=255*Jd(g,h,d);g=255*Jd(g,h,
d-1/3)}d=[Math.round(e),Math.round(f),Math.round(g)];d.push(a.wa);return a.ab(d)}n.ab=function(a){var b=a;if(u(a)){this.fa=a;return this}if(arguments.length>2)b=arguments;if(b.length>=3){this.Ya=b[0];this.Sa=b[1];this.Pa=b[2]}if(b.length==4)this.wa=b[3];this.fa=this.wa==1?"rgb("+this.Ya+","+this.Sa+","+this.Pa+")":"rgba("+this.Ya+","+this.Sa+","+this.Pa+","+this.wa+")";return this};n.tb=function(a){a.style.background=this.fa};n.sb=function(a){a.fillStyle=this.fa};
n.e=function(){var a=new Md("");a.Ya=this.Ya;a.Sa=this.Sa;a.Pa=this.Pa;a.wa=this.wa;a.fa=this.fa;return a};function Nd(a){if(a&&da(a.data))a=a.data();if(u(a)){this.T=a;if(this.T.length>50)this.T=this.T.substr(-50);if(Rd[this.T])this.G=Rd[this.T];else{this.G=new Image;this.G.src=a}}else{this.T=a.src;if(this.T.length>50)this.T=this.T.substr(-50);this.G=Rd[this.T]?Rd[this.T]:a}Sd(this)||M(this.G,"load",this.Yd,l,this);Rd[this.T]=this.G}w(Nd,Kd);var Rd={};n=Nd.prototype;n.id="image";
n.lc=function(a){var b=a.f(),c=this;if(!b.width&&!b.height)Sd(this)?a.c(this.G.width,this.G.height):M(this,"load",function(){var d=this.f();!d.width&&!d.height&&this.c(c.G.width,c.G.height)},l,a);Sd(this)||M(this,"load",function(){O(a,4)},l,this)};n.Yd=function(a){this.dispatchEvent(a)};function Sd(a){return a.G&&a.G.width&&a.G.height}n.c=function(a,b,c){if(ca(a)){a=new y(a,b);b=c||l}this.I=a;this.qe=b;return this};
function Td(a,b){var c=b.f().e();if(a.I)if(a.qe){c.width*=a.I.width;c.height*=a.I.height}else c=a.I;var d=new x(0,0);if(a.xc)if(a.He){d.x=c.width*a.xc.x;d.y=c.height*a.xc.y}else d=a.xc;return[c,d]}n.tb=function(a,b){a.style.background="url("+this.G.src+")";var c=Td(this,b),d=c[0];c=c[1];var e=od(b);a.style[Oc("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.L?b.L.Vb:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";if(this.Ke)a.style.imageRendering="optimizeQuality"};
n.sb=function(a,b){var c=b.f(),d=D(b);if(c.width&&c.height)try{var e=this.G,f=Td(this,b),g=f[0],h=f[1],j=a.createPattern(e,"repeat"),m=g.width/e.width,o=g.height/e.height;a.save();a.translate(d.left+h.x,d.top+h.y);a.scale(m,o);a.fillStyle=j;a.fillRect(-h.x/m,-h.y/o,c.width/m,c.height/o);a.restore()}catch(p){}};A.t={};F.t={};function U(){N.call(this);this.L=this.za=k}w(U,N);U.prototype.id="sprite";U.prototype.ta=[va(F,F.t),va(A,A.t)];U.prototype.o=function(){this.za=Ld(Ua(arguments));this.za.lc(this);O(this,4);return this};F.t.m=function(a){this.za===k||this.za.tb(a,this);if(this.L===k)a.style.border="none";else this.L.tb(a,this)};
A.t.m=function(a){var b=this.f(),c=this.za,d=this.L;if(c||d){var e=D(this);if(c){c.sb(a,this);c.id!="image"&&c.id!="frame"&&a.fillRect(e.left,e.top,b.width,b.height)}if(d){d.sb(a,this);if(this.id=="sprite"||this.id=="label"){c=d.Vb/2;a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}}}};function Ud(){T.call(this)}w(Ud,T);Ud.prototype.update=r;function Vd(a){T.call(this);var b=Ua(arguments);if(t(a))b=a;this.i=b.length>2?[b.shift(),new Vd(b)]:b;this.s(this.i[0].r+this.i[1].r)}w(Vd,T);Vd.prototype.mb=function(a){T.prototype.mb.call(this,a);this.s(this.i[0].r+this.i[1].r);this.bb=this.i[0].r/this.r;this.pa=-1};Vd.prototype.stop=function(){this.pa!=-1&&this.i[this.pa].stop(this.ga);T.prototype.stop.apply(this,arguments)};
Vd.prototype.va=function(a,b){if(this.D==0)return a;for(var c=b.length;--c>=0;)yd(this,b[c]);var d=c=0;if(a>=this.bb){c=1;d=this.bb==1?1:(a-this.bb)/(1-this.bb)}else{c=0;d=this.bb!=0?a/this.bb:1}if(this.pa==-1&&c==1){this.i[0].D=1;this.i[0].va(1,b);this.i[0].stop()}if(this.pa!=c){if(this.pa!=-1){this.i[this.pa].va(1,b);this.i[this.pa].stop()}this.i[c].D=1}this.i[c].va(d,b);this.pa=c;return a};function Wd(a){T.call(this);var b=Ua(arguments);if(t(a))b=a;if(b.length>2){this.Va=b.shift();this.eb=new Wd(b)}else{this.Va=b[0];this.eb=b[1]}b=this.Va.r;var c=this.eb.r;this.s(Math.max(b,c));var d=new Ud;if(b>c)this.eb=new Vd(this.eb,d.s(b-c));else if(b<c)this.Va=new Vd(this.Va,d.s(c-b))}w(Wd,T);Wd.prototype.mb=function(a){T.prototype.mb.call(this,a);this.Va.D=1;this.eb.D=1};Wd.prototype.va=function(a,b){if(this.D!=0){for(var c=b.length;--c>=0;)yd(this,b[c]);this.Va.va(a,b);this.eb.va(a,b);return a}};function Xd(a,b){R.call(this);this.lb="lime-button";if(s(a)){this.M=a;this.appendChild(this.M);this.xb=-1;Yd(this,Zd)}s(b)&&$d(this,b);var c=this;M(this,["mousedown","touchstart","touchmove"],function(d){Yd(c,ae);d.Ja("mousemove",function(e){c.Ca(e)?Yd(c,ae):Yd(c,Zd)});d.Ja("touchmove",function(e){if(!c.Ca(e)){Yd(c,Zd);e.qb()}});d.Ja(["mouseup","touchend"],function(e){c.Ca(e)&&c.dispatchEvent({type:be});Yd(this,Zd)})})}w(Xd,R);var Zd=0,ae=1,be="click";
function $d(a,b){a.ja=b;a.appendChild(b);a.xb=-1;Yd(a,Zd)}function Yd(a,b){if(b!=a.xb){a.xb==Zd&&b==ae&&a.dispatchEvent({type:"down"});a.xb==ae&&b==Zd&&a.dispatchEvent({type:"up"});var c=a.M;if(s(a.ja))if(ae==b)c=a.ja;else kd(a.ja,i);c!=a.M&&kd(a.M,i);kd(c,l);a.xb=b}};A.gb={};F.gb={};function V(){U.call(this);ce(this,5)}w(V,U);V.prototype.id="roundedrect";V.prototype.ta=[va(F.t,F.gb),va(A.t,A.gb)];function ce(a,b){a.Oe=l;a.Ac=b;return a}F.gb.m=function(a){this.f();F.t.m.call(this,a);Tc(a,[this.Ac*this.ra,this.Ac*this.ra])};
A.gb.m=function(a){this.f();var b=D(this),c=this.Ac,d=b.left,e=b.top,f=b.right-b.left;b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();A.t.m.call(this,a);if(this.L){a.lineWidth*=2;a.stroke()}a.restore()};A.fb={};F.fb={};function W(a){U.call(this);this.h(a);de(this,ee);Y(this,14);Z(this,"#000");fe(this);ge(this,"400");a=[0,0,0,0];if(s(void 0))a[1]=a[3]=void 0;if(s(void 0))a[2]=void 0;if(s(void 0))a[3]=void 0;this.H=a;O(this,8);this.be=l;this.rd=1.15;this.pe(k);this.o(255,255,255,0)}w(W,U);W.prototype.id="label";var ee="Arial";W.prototype.ta=[va(F.t,F.fb),va(A.t,A.fb)];
(function(){var a;W.prototype.measureText=function(){s(a)||(a=document.createElement("canvas").getContext("2d"));var b=he(this)*this.Aa;a.font=this.Aa+"px "+this.hc;var c=a.measureText(this.La);c=J?c.width:c.width+1;if(gc)c+=1;var d=this.L?this.L.Vb:0;return new y(this.H[1]+this.H[3]+c+d*2,this.H[0]+this.H[2]+b+d*2)}})();n=W.prototype;n.f=function(){var a=N.prototype.f.call(this);if(!a||!a.width&&!a.height)return this.measureText();return a};n.h=function(a){this.La=a+"";O(this,4);delete this.Gc;return this};
function ge(a,b){a.md=b;O(a,8);return a}function de(a,b){a.hc=b;O(a,8);return a}function Y(a,b){a.Aa=b;O(a,8);return a}function Z(a,b){a.ld=b;O(a,8);return a}function he(a){var b=Math.abs(a.Q.y)+a.V*2;return a.be?(a.rd+b)/a.Aa:a.rd+b/a.Aa}function fe(a){a.Oc="center";O(a,8);return a}
n.pe=function(a,b,c,d){if(arguments.length==1&&a===k){this.ub="#ccc";this.V=0;this.Sb(0,0)}else if(arguments.length==2){this.ub=a;this.V=b;this.Sb(new H(0,0))}else if(arguments.length==3){this.ub=a;this.V=b;this.Sb(c)}else{this.ub=a;this.V=b;this.Sb(c,d)}O(this,8)};n.Sb=function(a){this.Q=arguments.length==2?new H(arguments[0],arguments[1]):a;O(this,8)};n.update=function(){this.w&4&&delete this.qd;N.prototype.update.apply(this,arguments)};
F.fb.m=function(a){F.t.m.call(this,a);var b=a.style;this.w&4&&Ec(a,this.La);if(this.w&8){b.lineHeight=he(this);b.padding=Pa(this.H,function(c){return c*od(this)},this).join("px ")+"px";b.color=this.ld;b.fontFamily=this.hc;b.fontSize=this.Aa*od(this)+"px";b.fontWeight=this.md;b.textAlign=this.Oc;b.textShadow=this.V||this.Q.x||this.Q.y?this.ub+" "+this.Q.x+"px "+this.Q.y+"px "+this.V+"px":""}};
A.fb.m=function(a){A.t.m.call(this,a);var b=D(this),c=-b.left-this.H[3]+b.right-this.H[1]+Math.abs(this.Q.x)+Math.abs(this.V*2),d=0;if(!this.Gc){d=[];var e=this.La.length,f=this.La.match(hb?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var h=0;h<f.length;h++){var j=f[h];j=this.La.indexOf(j,g)+j.length;d.push(this.La.substring(g,j));g=j}g!=e&&d.push(this.La.substring(g,e));this.Gc=d;d=1}f=this.L?this.L.Vb:0;a.save();e=this.Oc;if(e=="left")a.translate(b.left+this.H[3]+f,b.top+this.H[0]+f);else if(e=="right")a.translate(b.right-
this.H[1]-f,b.top+this.H[0]+f);else e=="center"&&a.translate((b.left+this.H[3]+b.right-this.H[1])*0.5,b.top+this.H[0]+f);b=he(this);a.fillStyle=this.ld;a.font=this.md+" "+this.Aa+"px/"+b+" "+this.hc;a.textAlign=e;a.textBaseline="top";if(this.V||this.Q.x||this.Q.y){a.shadowColor=this.ub;a.shadowOffsetX=this.Q.x;a.shadowOffsetY=this.Q.y;a.shadowBlur=this.V}if(d||c!=this.qd){d=[];e="";f=this.Gc;for(h=0;h<f.length;h++)if(e=="")e=f[h];else{g=a.measureText(Da(e+f[h]));if(g.width>c){d.push(Da(e));e=f[h]}else e+=
f[h]}d.push(e);this.rc=d;this.qd=c}if(this.rc){c=b*this.Aa;b=(s(this.V)?Math.abs(this.V):0)+(s(this.Q)?Math.abs(this.Q.y)/2:0);c=J?Math.floor(c):Math.round(c);for(d=0;d<this.rc.length;d++)a.fillText(this.rc[d],0,c*d+b-0.5)}a.restore()};function ie(){this.ib=[];je(this)}w(ie,Kd);n=ie.prototype;n.id="lineargradient";n.lc=function(a){if(gb||I)cd(a,A)};function je(a){a.u=[0,0,0,1];return a}n.addColorStop=function(a){var b=Ua(arguments);b.shift();this.ib.push([a,Ld(b)]);return this};n.Sd=function(a){return J?"color-stop("+a[0]+", "+a[1].fa+")":a[1].fa+" "+a[0]*100*this.me+"%"};
n.tb=function(a,b){var c,d=D(b);c=d.right-d.left;var e=d.bottom-d.top;if(!J){var f=(this.u[2]-this.u[0])*c,g=(this.u[1]-this.u[3])*e,h=d.left+c*this.u[0],j=d.top+e*this.u[1],m=Math.atan2(g,f),o=-g/f;if(o==Infinity)o=Math.pow(10,10);d=m>0&&m<Math.PI/2?[d.right,d.top]:m>0?[d.left,d.top]:m>-Math.PI/2?[d.right,d.bottom]:[d.left,d.bottom];d=(d[1]+1/o*d[0]-j+o*h)/(o+1/o);o=o*d+j-h*o;d-=h;o-=j;this.me=Math.sqrt((f*f+g*g)/(d*d+o*o))}f=Pa(this.ib,this.Sd,this);c=J?"-webkit-gradient(linear,"+this.u[0]*100+
"% "+this.u[1]*100+"%,"+this.u[2]*100+"% "+this.u[3]*100+"%,"+f.join(",")+")":"linear-gradient("+this.u[0]*100+"% "+this.u[1]*100+"% "+Math.atan2((this.u[1]-this.u[3])*e,(this.u[2]-this.u[0])*c)+"rad,"+f.join(",")+")";if(hb)c="-moz-"+c;a.style.background=c};n.sb=function(a,b){var c=this.u,d=D(b),e=d.right-d.left,f=d.bottom-d.top;c=a.createLinearGradient(d.left+e*c[0],d.top+f*c[1],d.left+e*c[2],d.top+f*c[3]);for(d=0;d<this.ib.length;d++)c.addColorStop(this.ib[d][0],this.ib[d][1].fa);a.fillStyle=c};function ke(a){Xd.call(this,this.vc(a),this.vc(a));this.borderWidth=2;this.h(a);this.ab("#62be00")}w(ke,Xd);n=ke.prototype;n.vc=function(a){var b=new V;b.ba=new V;b.label=Y(Z(de(fe(new W(a)),'"Trebuchet MS"'),"#010101"),17);b.appendChild(b.ba);b.ba.appendChild(b.label);return b};
n.ab=function(a){a=Ld(a);Na([this.M,this.ja],function(b){var c;if(b==this.ja){c=a.e();c=Qd(c,1,-0.2)}else c=a;b.o(c);var d=je(new ie);d.addColorStop(0,Pd(c.e(),0.13));d.addColorStop(0.5,Pd(c.e(),0.05));d.addColorStop(0.52,c);d.addColorStop(1,c);b.ba.o(d)},this);return this};n.h=function(a){this.M.label.h(a);this.ja.label.h(a);return this};
n.c=function(){if(this.M){this.M.c.apply(this.M,arguments);var a=this.M.f();Na([this.M,this.ja],function(b){b.c(a);var c=a.e();c.width-=this.borderWidth;c.height-=this.borderWidth;b.ba.c(c)},this)}return this};n.f=function(){return this.M.f()};var le,me,ne,oe;function pe(a){ke.call(this,a);this.borderWidth=4;this.ab("#000")}w(pe,ke);pe.prototype.vc=function(){var a=ce((new V).o("#fff"),15);a.ba=ce(new V,15);a.label=Y(Z(fe(new W),"#eef"),35).c(250,35);a.appendChild(a.ba);a.ba.appendChild(a.label);return a};pe.prototype.ab=function(a){a=Ld(a);Na([this.M,this.ja],function(b){var c=b==this.ja?Pd(a.e(),0.1):a,d=Pd(c.e(),0.3),e=je(new ie);e.addColorStop(0,d);e.addColorStop(0.45,c);e.addColorStop(0.55,c);e.addColorStop(1,d);b.ba.o(e)},this);return this};function $(a){T.call(this);this.z=a}w($,T);$.prototype.scope="fade";$.prototype.Ua=function(a){var b=a.z;if(xd(this)){a.la[Uc]=[this.z,this.r,this.Qa,0];O(a,Vc)}return{se:b,p:this.z-b}};$.prototype.update=function(a,b){if(this.D!=0){var c=yd(this,b);pd(b,c.se+c.p*a)}};$.prototype.Y=function(a){if(xd(this)){a.Y(Uc);O(a,Vc)}};A.Xb={};F.Xb={};F.Xb.m=function(a){var b=this.f();F.t.m.call(this,a);Tc(a,b.width*0.5,b.height*0.5)};A.Xb.m=function(a){this.f();var b=this.W,c=D(this),d=(c.right-c.left)*0.5;c=(c.bottom-c.top)*0.5;a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,l);a.closePath();a.restore();a.clip();A.t.m.call(this,a);if(this.L){a.lineWidth*=2;a.stroke()}a.restore()};function B(){N.call(this);this.C(0,0);this.lb="lime-scene";ed(this)}w(B,N);B.prototype.Db=function(){return this};B.prototype.Kb=function(){return D(this)};A.Hc={};function qe(){U.call(this)}w(qe,U);qe.prototype.id="canvas";qe.prototype.ta=[va(A.t,A.Hc)];qe.prototype.m=r;A.Hc.m=function(a){A.t.m.call(this,a);this.m(a)};function re(){T.call(this);this.Le=k;var a=Ld(Ua(arguments));if(a instanceof Md)this.Qb=Od(a)}w(re,T);re.prototype.scope="color";re.prototype.Ua=function(a){a=a.za instanceof Md?Od(a.za):[255,255,255,0];return{start:a,p:[this.Qb[0]-a[0],this.Qb[1]-a[1],this.Qb[2]-a[2],this.Qb[3]-a[3]]}};re.prototype.update=function(a,b){if(this.D!=0){var c=yd(this,b);"start"in c&&b.o(Math.round(c.start[0]+c.p[0]*a),Math.round(c.start[1]+c.p[1]*a),Math.round(c.start[2]+c.p[2]*a),c.start[3]+c.p[3]*a)}};function se(){V.call(this);var a=40,b=20;this.c(320,a);ce(this,b);this.C(0,0.5);this.o((new ie).addColorStop(0,41,84,21,0.5).addColorStop(1,41,84,21,0.1));this.Lb=(new R).a(125,0);this.appendChild(this.Lb);a-=16;b=12;var c=ce(new V,b).c(50,a).o(255,255,255,0).C(0,0.5).a(8,0);this.Lb.appendChild(c);this.width=320;this.ba=c;c=ce(new V,b).c(50,a).o("#Ff9900").C(0,0.5).a(8,0);this.Lb.appendChild(c);c.o((new ie).addColorStop(0,255,255,255,0.4).addColorStop(0.49,255,255,255,0).addColorStop(0.5,0,0,0,0.1).addColorStop(1,
255,255,255,0.3));this.width=320;this.Fe=c}w(se,V);function te(a,b){var c,d=360*(0.26*b+0.01),e=c=0,f=0,g=Math.floor(d/60),h=d/60-g;d=245*(1-1*h);h=245*(1-1*(1-h));switch(g){case 1:c=d;e=245;f=0;break;case 2:c=0;e=245;f=h;break;case 3:c=0;e=d;f=245;break;case 4:c=h;e=0;f=245;break;case 5:c=245;e=0;f=d;break;case 6:case 0:c=245;e=h;f=0}c=[Math.floor(c),Math.floor(e),Math.floor(f)];a.Je=b;Q(a.Lb,(new ue(250*b,0)).s(3));Q(a.ba,(new re(c[0],c[1],c[2])).s(3));return a};function ve(a){U.call(this);this.value=a;this.Od=(new U).o("assets/bubble_back.png").c(70,70);this.appendChild(this.Od);this.$d=de(ge(Z(Y((new W).h(a),34),"#fff"),700),"Impact");this.appendChild(this.$d);this.Gd=2.5;this.C(0,0);this.Ia(1.2);this.Fd=new H(0,this.Gd)}w(ve,U);ve.random=function(a){return new ve(Math.ceil(Math.random()*a))};function we(a){a.Fd.add(new H((Math.random()*2-1)*0.6,Math.random()*0.1));var b=a.Fd.e().scale(le);b=Ad((new xe(b.x,b.y)).s(20));b.Qa=Bd;a.move=b;Q(a,a.move)};function ue(a){T.call(this);this.d=arguments.length==2?new x(arguments[0],arguments[1]):a}w(ue,T);n=ue.prototype;n.scope="move";n.Ua=function(a){var b=a.d,c=new x(this.d.x-b.x,this.d.y-b.y);if(xd(this)){a.la[E]=[this.d,this.r,this.Qa,0];O(a,P)}return{wb:b,p:c}};n.hb=function(){if(this.vb&&this.ga.length){var a=this.ga[0].d;this.s(this.vb*ra(new x(this.d.x-a.x,this.d.y-a.y),new x(0,0))/100);this.Dc=1}};n.update=function(a,b){if(this.D!=0){var c=yd(this,b);b.a(c.wb.x+c.p.x*a,c.wb.y+c.p.y*a)}};
n.Y=function(a){if(xd(this)){a.Y(E);O(a,P)}};function ye(a){T.call(this);this.jd=arguments.length==1&&ca(a)?new H(a,a):arguments.length==2?new H(arguments[0],arguments[1]):a}w(ye,T);ye.prototype.scope="scale";ye.prototype.Ua=function(a){var b=a.B,c=new H(b.x*this.jd.x-b.x,b.y*this.jd.y-b.y);if(xd(this)){a.la[C]=[new H(b.x+c.x,b.y+c.y),this.r,this.Qa,0];O(a,2)}return{Ed:b,p:c}};ye.prototype.update=function(a,b){if(this.D!=0){var c=yd(this,b);b.Ia(c.Ed.x+c.p.x*a,c.Ed.y+c.p.y*a)}};ye.prototype.Y=function(a){if(xd(this)){a.Y(C);O(a,2)}};function ze(){return pd(ce((new V).o(255,255,255,0.6),40).c(680,550).a(0,270).C(0.5,0),0)}
function Ae(){var a=ze(),b=Y((new W).h("Tutorial"),40).a(0,70);a.appendChild(b);b=Z(Y((new W).h("Divide and add bubbles with different numeric values to get them to equal magical value before they fall to the ground.").c(450,50).a(0,130),24),"#333");a.appendChild(b);b=(new U).o("assets/dialog_tutorial1.jpg").a(-150,400).Ia(0.9);a.appendChild(b);b=(new U).o("assets/dialog_tutorial2.jpg").a(150,400).Ia(0.9);a.appendChild(b);b=Z(Y(new W,22),"#80c010").h("Draw line around bubbles to add their values together").c(250,
50).a(-150,250);a.appendChild(b);b=Z(Y(new W,22),"#80c010").h("Draw line through a bubble to split it into two.").c(250,50).a(150,250);a.appendChild(b);return a}
function Be(){var a=ze(),b=Y((new W).h("Tutorial"),40).a(0,70);a.appendChild(b);b=Z(Y((new W).h("If you are using mouse or trackpad you may find it easier to hold down key Z for making a selection instead of pressing on mouse.").c(450,50).a(0,130),24),"#333");a.appendChild(b);b=(new U).o("assets/dialog_keyz.jpg").a(0,360);a.appendChild(b);return a}
function Ce(a){var b=ze(),c=Y((new W).h("Level #"+a.nb),40).a(0,70);b.appendChild(c);c=Z(Y((new W).h("This is your magic number for this level:").c(450,50).a(0,130),24),"#333");b.appendChild(c);c=(new U).o("assets/dialog_number.jpg").a(0,320);b.appendChild(c);a=Z(Y(new W(a.Ea),60).a(0,320),"#fff");b.appendChild(a);return b}function De(a){Q(a,(new $(1)).s(0.3))}function Ee(a,b){var c=new Vd((new Ud).s(5),(new $(0)).s(0.3));Q(a,c);b&&M(c,"stop",b)};function Fe(a){B.call(this);this.Hd=600;this.Kc=7;this.Ic=0.9;this.Jc=0.15;this.nb=a;this.Ea=6+Math.round((a-1)/20*9);me=6800-a*120;le=75+this.nb*1.4;this.Jb=(new U).o((new ie).addColorStop(0,0,0,0,0).addColorStop(0.95,0,0,0,0.1).addColorStop(1,0,0,0,0)).c(768,760).C(0,0).a(0,130);this.appendChild(this.Jb);this.Jb=(new U).c(768,760).C(0,0).a(0,130);this.appendChild(this.Jb);this.O=new R;/Chrome\/9\.0\.597/.test(db())&&cd(this.O,A);this.appendChild(this.O);bd(this.O,this.Jb);pd(this.O,0.5);this.bubbles=
[];Ge(this,3);S.Cc(this.reload,this,me);S.Cc(this.Vc,this,200);this.ae=Y(Z((new W).h("NUMBER "+this.Ea).a(760,15).C(1,0),"#80ff36"),70);this.appendChild(this.ae);this.Bd=te(new se,0.5).a(20,50);this.appendChild(this.Bd);this.Wa=this.Ea*this.Kc;He(this,0);this.ha=(new R).a(ne.f().width/2,0);this.appendChild(this.ha);a=(new pe("Back to menu")).c(270,70).a(150,945);this.appendChild(a);M(a,"click",function(){Ie(Je)});Ke(this);this.ad=wc("canvas").getContext("2d");Le(this)}w(Fe,B);
function Ge(a,b){for(var c=0;c<b;c++){var d=ve.random(a.Ea-1);d.a(Math.random()*a.Hd+100,0-Math.random()*100);a.O.appendChild(d);a.bubbles.push(d)}S.Md(a.ye,a)}n=Fe.prototype;n.reload=function(){Ge(this,2)};function He(a,b){a.Wa+=b;if(a.Wa<0)a.Wa=0;var c=a.Wa/(a.Ea*a.Kc*2);if(c>1)c=1;te(a.Bd,c);if(c<=0||c>=1)Me(a)}
n.start=function(){this.touches=[];Q(this.O,new $(1));this.ic=md((new qe).c(ne.f().e()).C(0,0));this.appendChild(this.ic);this.ic.m=ka(this.hd,this);this.oc=l;M(this,["mousedown","touchstart","keydown"],this.fd,l,this);S.Rb(function(){O(this.ic,4)},this)};
n.hd=function(a){var b=ma();if(!this.pc)this.pc=b;var c=(b-this.pc)/1E3,d=this.Ic,e=this.Jc,f=this.Ic-this.Jc,g,h,j;this.pc=b;if(ib)this.ad.globalCompositeOperation="copy";else a.clearRect(0,0,ne.f().width,ne.f().height);a.strokeStyle="rgba(0,0,0,0)";a.lineCap="round";a.lineWidth=17;a.shadowBlur=0;a.shadowColor="#fff";for(b=this.touches.length;--b>=0;){j=this.touches[b].Nb;g=j.length;for(a.beginPath();--g>=0;){h=j[g];a.moveTo(h.ca[0],h.ca[1]);a.lineTo(h.P[0],h.P[1]);h.Ta>d&&j.splice(g,1)}a.stroke();
this.touches[b].remove&&!j.length&&this.touches.splice(b,1)}b=[241,249,57];var m=[255-b[0],255-b[1],255-b[2]];for(b=0;b<this.touches.length;b++){if(!this.touches[b])debugger;j=this.touches[b].Nb;for(g=0;g<j.length;g++){h=j[g];a.lineWidth=h.Ta<e?Math.ceil(4+4*(h.Ta/e)):Math.ceil((f-(h.Ta-e))/f*12);if(a.lineWidth>2){var o=h.Ta/(d-0.3);a.strokeStyle="rgba("+Math.round(255-m[0]*o)+","+Math.round(255-m[1]*o)+","+Math.round(255-m[2]*o)+","+a.lineWidth/12+")";a.beginPath();a.moveTo(h.ca[0],h.ca[1]);a.lineTo(h.P[0],
h.P[1]);a.stroke()}h.Ta+=c}}};n.fd=function(a){if(a.type=="keydown")if(a.event.keyCode==90&&!this.oc)this.oc=i;else return;var b={Ga:a.position,Nb:[],sa:[0,0,0,0],wd:l};this.touches.push(b);a.Ja(["mousemove","touchmove"],la(this.ge,b));a.Ja(["mouseup","touchend","touchcancel","keyup"],la(this.xe,b))};
n.ge=function(a,b){if(s(a.Ga)){a.wd=i;var c=b.position.x-a.Ga.x,d=b.position.y-a.Ga.y;if(c*c+d*d>(ib?300:0)){if(c>0)if(d>0)a.sa[0]=1;else a.sa[1]=1;if(d>0)a.sa[2]=1;else a.sa[3]=1;a.Nb.push(new Ne(a.Ga.x,a.Ga.y,b.position.x,b.position.y));a.Ga=b.position}}else a.Ga=b.position};
n.xe=function(a,b){if(!(b.type=="keyup"&&b.event.keyCode!=90)){var c=this.ad,d=a.Nb,e=this.bubbles,f,g,h,j,m=[];this.oc=l;a.remove=1;if(d.length){c.beginPath();f=d[d.length-1].P[0]-d[0].ca[0];g=d[d.length-1].P[1]-d[0].ca[1];h=a.sa[0]+a.sa[1]+a.sa[2]+a.sa[3];if(h>2||f*f+g*g<6E3){c.moveTo(d[0].ca[0],d[0].ca[1]);for(h=0;h<d.length;h++)c.lineTo(d[h].P[0],d[h].P[1])}else for(h=0;h<d.length;h++)for(j=e.length;--j>=0;)if(e.value!=1){g=e[j].d;f=g.x-d[h].P[0];g=g.y-d[h].P[1];f=f*f+g*g;f<1E3&&Oe(this,e[j],
d[h].P[0]-d[h].ca[0],d[h].P[1]-d[h].ca[1])}c.closePath();for(h=0;h<e.length;h++){g=e[h].d;c.isPointInPath(g.x,g.y)&&m.push(e[h])}m.length>1&&Pe(this,m)}else if(!a.wd)for(j=e.length;--j>=0;)if(e.value!=1){g=e[j].d;f=g.x-b.position.x;g=g.y-b.position.y;f=f*f+g*g;if(f<1E3){Qe(this,e[j]);break}}}};
function Ke(a){var b=Y((new W).h("Your game is about to start"),52).a(0,0);a.ha.appendChild(b);var c=(new xe(0,200)).s(1.5);Q(b,c);var d=Ae();a.ha.appendChild(d);M(c,"stop",function(){De(d);var e=Be();Ee(d,function(){a.ha.removeChild(d);a.ha.appendChild(e);De(e);var f=Ce(a);Ee(e,function(){a.ha.removeChild(e);a.ha.appendChild(f);De(f);Ee(f,function(){a.ha.removeChild(f);a.ha.removeChild(b);a.start()})})})})}
function Me(a){a.Ce=1;S.yb(a.reload,a);S.yb(a.Vc,a);for(var b=0;b<a.bubbles;b++)zd.ue(a.bubbles[b]);b=ce(new V,30).o((new ie).addColorStop(0,0,0,0,0.5).addColorStop(1,0,0,0,0.7)).c(400,400).a(400,200).C(0.5,0);a.appendChild(b);var c=Y(Z((new W).h("Level complete!"),"#fff"),46).a(0,70);b.appendChild(c);var d=(new pe).h("NEXT LEVEL").c(300,90).a(0,200);b.appendChild(d);if(a.Wa<=0){c.h("You lost");d.h("TRY AGAIN")}else a.nb==20&&b.removeChild(d);M(d,be,function(){Re(this.Wa<0?this.nb:this.nb+1)},l,a);
d=(new pe).h("MAIN SCREEN").c(300,90).a(0,320);b.appendChild(d);M(d,be,function(){Ie(i)});Zb(a,["mousedown","touchstart","keydown"],a.fd,l,a);S.yb(a.hd,a)}function Qe(a,b){a.O.removeChild(b);He(a,-b.value);var c=ge(pd(Y(Z((new W).h("-"+b.value),"#c00"),40),1).a(b.d),700);a.appendChild(c);var d=new Wd(new xe(0,-60),new $(0),new ye(2));Q(c,d);M(d,"stop",function(){this.removeChild(c)},l,a);Ra(a.bubbles,b)}
n.Vc=function(){for(var a=this.bubbles.length;--a>=0;)if(this.bubbles[a].d.y>840||this.bubbles[a].d.x<0||this.bubbles[a].d.x>768)Qe(this,this.bubbles[a])};function Se(a,b){var c=new Wd(new ye(2),new $(0));M(c,"stop",function(){this.O.removeChild(b)},l,a);Q(b,c);He(a,b.value);var d=ge(pd(Y(Z((new W).h("+"+b.value),"#060"),40),0.5).a(b.d.e()),700);a.appendChild(d);c=new Wd(new xe(0,-60),new $(0),new ye(2));Q(d,c);M(c,"stop",function(){this.removeChild(d)},l,a)}n.ye=function(){for(var a=0;a<this.bubbles.length;a++)we(this.bubbles[a])};
function Pe(a,b){for(var c=[0,0],d=0,e=0;e<b.length;e++){var f=b[e].d;c[0]+=f.x;c[1]+=f.y;Ra(a.bubbles,b[e]);d+=b[e].value}c[0]/=b.length;c[1]/=b.length;f=new Wd(Ad(new ue(c[0],c[1])),Ad(new $(0)));for(e=0;e<b.length;e++)Qa(f.ga,b[e]);f.play();M(f,"stop",function(){for(var h=0;h<b.length;h++)this.O.removeChild(b[h])},l,a);var g=pd((new ve(d)).a(c[0],c[1]),0);a.O.appendChild(g);c=new Vd((new Ud).s(0.5),new $(1));M(c,"stop",function(){if(g.value==this.Ea)Se(this,g);else{this.bubbles.push(g);we(g)}},
l,a);Q(g,c)}function Oe(a,b,c,d){if(!(b.value<2)){var e=Math.ceil(Math.random()*(b.value-1));e=[e,b.value-e];Ra(a.bubbles,b);var f=b.d.e(),g=new $(0);M(g,"stop",function(){this.O.removeChild(b)},l,a);Q(b,g);c=(new H(-d,c)).normalize().scale(70);for(d=0;d<2;d++){var h=pd((new ve(e[d])).a(f),0.5);a.O.appendChild(h);d&&Xa(c);g=new Wd(new xe(c.x,c.y),new $(1));var j=a;M(g,"stop",function(){if(this.value==j.Ea)Se(j,this);else{j.bubbles.push(this);we(h)}},l,h);Q(h,g)}}};function xe(a){T.call(this);this.jb=arguments.length==2?new x(arguments[0],arguments[1]):a}w(xe,T);n=xe.prototype;n.scope="move";n.Ua=function(a){if(xd(this)){a.la[E]=[new x(a.d.x+this.jb.x,a.d.y+this.jb.y),this.r,this.Qa,0];O(a,P)}return{wb:a.d}};n.hb=function(){if(this.vb){this.s(this.vb*ra(this.jb,new x(0,0))/100);this.Dc=1}};n.update=function(a,b){if(this.D!=0){var c=yd(this,b);b.a(c.wb.x+this.jb.x*a,c.wb.y+this.jb.y*a)}};n.Y=function(a){if(xd(this)){a.Y(E);O(a,P)}};function Te(a,b){this.r=1;this.Mb=a;this.ka=b;this.Rd=l}w(Te,ec);Te.prototype.s=function(a){this.r=a;return this};Te.prototype.start=function(){this.ka.a(new x(0,0));kd(this.ka,l);this.Cb()};Te.prototype.Cb=function(){this.dispatchEvent(new Ab("end"));this.Rd=i};function Ue(a,b,c){Te.call(this,a,b);this.wc=Ve;this.he=c||l}w(Ue,Te);var Ve=0;Ue.prototype.start=function(){var a=this.ka.f(),b=new x(0,0);switch(this.wc){case Ve:this.ka.a(-a.width,0);b.x=a.width;break;case 1:this.ka.a(0,-a.height);b.y=a.height;break;case 2:this.ka.a(a.width,0);b.x=-a.width;break;case 4:this.ka.a(0,a.height);b.y=-a.height}kd(this.ka,l);a=(new xe(b)).s(this.r);this.Mb&&!this.he&&Qa(a.ga,this.Mb);Qa(a.ga,this.ka);M(a,"stop",this.Cb,l,this);a.play()};
Ue.prototype.Cb=function(){this.Mb&&this.Mb.a(0,0);Te.prototype.Cb.call(this)};function We(a,b){Ue.call(this,a,b);this.wc=1}w(We,Ue);function Xe(a,b){Ue.call(this,a,b);this.wc=4}w(Xe,Ue);function Je(a,b){We.call(this,a,b,i)}w(Je,We);function Ye(a,b){Xe.call(this,a,b,i)}w(Ye,Xe);function Ze(){B.call(this);this.b.style.cssText="background:rgba(255,255,255,.8)"}w(Ze,B);function $e(a){this.kb=a;this.identifier=0}$e.prototype.Ja=function(a,b,c){a=t(a)?a:[a];for(var d=0;d<a.length;d++)this.kb.Ja(this,a[d],b);c&&this.event.stopPropagation()};$e.prototype.qb=function(a){var b=s(a),c=t(a)?a:[a];if(a=this.kb.ua[this.identifier]){var d=this;a=Oa(a,function(e){if(!s(d.Ka)||e[0]==d.Ka&&(!b||Ma(c,e[1])>=0)){Zb(e[0],e[1],e[2]);return l}return i});if(a.length)this.kb.ua[this.identifier]=a;else delete this.kb.ua[this.identifier]}};
$e.prototype.e=function(){var a=new $e(this.kb);wa(a,this);return a};function af(a){this.ya=a;this.K={};this.ua={}}af.prototype.Pb=function(a,b){if(s(this.K[b])){if(!(Ma(this.K[b],a)>=0)){this.K[b].push(a);this.K[b].sort(hd)}}else{this.K[b]=[a];M(b.substring(0,5)=="touch"&&a!=this.ya?document:b.substring(0,3)=="key"?window:this.ya.b.parentNode,b,this,l,this)}};af.prototype.qb=function(a,b){if(s(this.K[b])){Ra(this.K[b],a);if(!this.K[b].length){Zb(this.ya.b.parentNode,b,this,l,this);delete this.K[b]}}};
function sd(a,b){for(var c in a.K){var d=a.K[c];Ma(d,b)>=0&&d.sort(hd)}}af.prototype.Ja=function(a,b,c){var d=a.identifier;s(this.ua[d])||(this.ua[d]=[]);this.ua[d].push([a.Ka,b,c]);M(a.Ka,b,r)};
af.prototype.handleEvent=function(a){if(s(this.K[a.type])){for(var b=this.K[a.type].slice(),c=l,d=0,e=0;!e;){var f=new $e(this);f.type=a.type;f.event=a;if(a.type.substring(0,5)=="touch"){var g=a.na.changedTouches[d];f.$a=new x(g.pageX,g.pageY);f.identifier=g.identifier;d++;if(d>=a.na.changedTouches.length)e=1}else{f.$a=new x(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop);e=1}if(s(this.ua[f.identifier])){g=
this.ua[f.identifier];for(var h=0;h<g.length;h++)if(g[h][1]==a.type||t(g[h][1])&&Ma(g[h][1],a.type)>=0){var j=g[h][0];f.Ka=j;f.position=j.Ha(f.$a);g[h][2].call(j,f);c=i}if(a.type=="touchend"||a.type=="touchcancel"||a.type=="mouseup"||a.type=="keyup"){delete f.Ka;f.qb()}}else for(h=0;h<b.length;h++){j=b[h];if(!((this.ya.n.length?this.ya.n[this.ya.n.length-1]:k)!=j.Db()&&j!=this.ya))if(!(j.Eb||!j.v)){f.Ka=j;if(j.Ca(f)||a.type.substring(0,3)=="key"){f.Ka=j;j.dispatchEvent(f);c=i;if(f.event.qa)break}}}}c&&
a.preventDefault()}};function bf(a){this.Na=a||window;this.Hb=M(this.Na,"resize",this.Wd,l,this);this.I=vc(this.Na||window);if(J&&lb||gb&&this.Na.self!=this.Na.top)this.Wb=window.setInterval(ka(this.Wc,this),cf)}w(bf,ec);var cf=500;n=bf.prototype;n.Hb=k;n.Na=k;n.I=k;n.Wb=k;n.f=function(){return this.I?this.I.e():k};n.$=function(){bf.db.$.call(this);if(this.Hb){$b(this.Hb);this.Hb=k}if(this.Wb){window.clearInterval(this.Wb);this.Wb=k}this.I=this.Na=k};n.Wd=function(){this.Wc()};
n.Wc=function(){var a=vc(this.Na||window),b;b=this.I;b=a==b?i:!a||!b?l:a.width==b.width&&a.height==b.height;if(!b){this.I=a;this.dispatchEvent("resize")}};function df(a,b,c){N.call(this);this.v=i;this.C(0,0);this.n=[];this.Zc=[];this.lb="lime-director";ed(this);a.appendChild(this.b);if(J&&ib){this.Yc=document.createElement("div");mc(this.Yc,"lime-cover-below");Ac(this.Yc,this.b);this.Xc=document.createElement("div");mc(this.Xc,"lime-cover-above");Bc(this.Xc,this.b)}if(a.style.position!="absolute")a.style.position="relative";a.style.overflow="hidden";if(a==document.body){Kc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";if(/android/i.test(navigator.userAgent))e+=",target-densityDpi=device-dpi";d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(ib&&!q.navigator.re){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Gb()},100)}}var g;a=Jc(a);this.c(new y(g=b||a.width||ef,c||a.height*g/a.width||ff));this.cd&&Cc(this.Ud);this.Zd=this.cd=l;S.Nd(this,i);if(this.Zd){this.zc=new Ze;
gf(this,this.zc)}else if(this.zc){if(this.n.length){rd(this.n[this.n.length-1]);this.n[this.n.length-1].k=k;Cc(this.n[this.n.length-1].b);this.n.pop()}delete this.zc}b=new bf;M(b,"resize",this.Gb,l,this);M(q,"orientationchange",this.Gb,l,this);S.Rb(this.cb,this);this.Ra=new af(this);M(this,["touchmove","touchstart"],function(h){h.event.preventDefault()},l,this);M(this,["mouseup","touchend","mouseout","touchcancel"],function(){},l);this.Gb()}w(df,N);var ef=400,ff=400;n=df.prototype;n.J=function(){return this};
n.Db=function(){return k};n.cb=function(a){if(this.cd){this.nd++;this.Yb+=a;if(this.Yb>100){this.Td=1E3*this.nd/this.Yb;Ec(this.Ud,this.Td.toFixed(2));this.Yb=this.nd=0}}qa()};
function hf(a,b,c){b.c(a.f().e());c=c||Te;var d=k;if(a.n.length)d=a.n[a.n.length-1];for(var e=[],f=a.n.length;--f>=0;){rd(a.n[f]);e.push(a.n[f].b);a.n[f].k=k}a.n.length=0;a.n.push(b);b.b.style.display="none";a.b.appendChild(b.b);b.k=a;qd(b);b=new c(d,b);M(b,"end",function(){for(var g=e.length;--g>=0;)Cc(e[g])},l,a);s(void 0)&&b.s(void 0);b.start()}n.Ma=function(){this.w&=-65};function gf(a,b){b.c(a.f().e());a.n.push(b);a.b.appendChild(b.b);b.k=a;qd(b)}
n.Ha=function(a){a=a.e();a.x-=this.Bb.x+this.d.x;a.y-=this.Bb.y+this.d.y;a.x/=this.B.x;a.y/=this.B.y;return a};n.sc=function(a){a=a.e();a.x*=this.B.x;a.y*=this.B.y;a.x+=this.Bb.x+this.d.x;a.y+=this.Bb.y+this.d.y;return a};n.update=function(){N.prototype.update.call(this);for(var a=this.Zc.length;--a>=0;)this.Zc[a].update()};
n.Gb=function(){var a=Jc(this.b.parentNode);if(this.b.parentNode==document.body){window.scrollTo(0,0);if(ca(window.innerHeight))a.height=window.innerHeight}var b;b=this.f().e();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.Ia(b.width/this.f().width);a.width/a.height<b.width/b.height?this.a(0,(a.height-b.height)/2):this.a((a.width-b.width)/2,0);var c=this.b.parentNode,d,e=qc(c),f=Fc(c,"position"),g=hb&&e.getBoxObjectFor&&!c.getBoundingClientRect&&f=="absolute"&&
(d=e.getBoxObjectFor(c))&&(d.screenX<0||d.screenY<0);b=new x(0,0);var h;d=e?e.nodeType==9?e:qc(e):document;if(h=I){h=oc(d);h=!sc(h.aa)}h=h?d.body:d.documentElement;if(c!=h)if(c.getBoundingClientRect){d=c.getBoundingClientRect();if(I){c=c.ownerDocument;d.left-=c.documentElement.clientLeft+c.body.clientLeft;d.top-=c.documentElement.clientTop+c.body.clientTop}e=oc(e);e=!J&&sc(e.aa)?e.aa.documentElement:e.aa.body;e=new x(e.scrollLeft,e.scrollTop);b.x=d.left+e.x;b.y=d.top+e.y}else if(e.getBoxObjectFor&&
!g){d=e.getBoxObjectFor(c);e=e.getBoxObjectFor(h);b.x=d.screenX-e.screenX;b.y=d.screenY-e.screenY}else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;if(d!=c){b.x+=d.clientLeft||0;b.y+=d.clientTop||0}if(J&&Fc(d,"position")=="fixed"){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(gb||J&&f=="absolute")b.y-=e.body.offsetTop;for(d=c;(d=Gc(d))&&d!=e.body&&d!=h;){b.x-=d.scrollLeft;if(!gb||d.tagName!="TR")b.y-=d.scrollTop}}this.Bb=b;if(ib&&this.b.parentNode==document.body){if(this.zd){b=
this.zd;Cc(b.ownerNode||b.owningElement||b)}this.zd=Kc("html{height:"+(a.height+120)+"px;overflow:hidden;}")}};n.Ca=function(a){if(a&&a.$a)a.position=this.Ha(a.$a);return i};function Ie(a){var b=new B;hf(ne,b,a?Ye:undefined);a=(new R).a(384,0);b.appendChild(a);b=(new U).o("assets/main_title.png").a(0,250);a.appendChild(b);b=(new U).c(620,560).o("#c00").C(0.5,0).a(0,410);a.appendChild(b);var c=(new R).a(0,280);a.appendChild(c);bd(c,b);a=(new pe("PLAY NOW")).a(0,330).c(250,100);c.appendChild(a);M(a,be,function(){Re(1)});a=(new pe("PICK LEVEL")).a(0,480).c(250,100);c.appendChild(a);M(a,be,function(){Q(c,Ad(new ue(0,-255)))});b=(new R).a(0,690);c.appendChild(b);/Chrome\/9\.0\.597/.test(db())&&
cd(b,A);a=Z(Y((new W).h("Pick level:".toUpperCase()),30).C(0.5,0).a(0,0),"#fff");b.appendChild(a);a=(new R).a(-250,110);b.appendChild(a);for(b=b=0;b<4;b++)for(var d=0;d<5;d++){var e=d+1+b*5,f=(new pe(""+e)).c(80,80).a(d*125,b*90);a.appendChild(f);M(f,be,function(){Re(this)},l,e)}b=(new pe("Back to Menu")).c(400,80).a(250,b*90);a.appendChild(b);M(b,be,function(){Q(c,Ad(new ue(0,280)))},l,e)}function Re(a){oe=new Fe(a);hf(ne,oe,Je)}
function Le(a){var b=(new U).o("assets/lime.png"),c=Y(Z((new W).h("Built with"),"#fff"),24).a(550,950);b=(new Xd(b)).Ia(0.3).a(670,950);M(b,"click",function(){q.location.href="http://www.limejs.com/"});a.appendChild(c);a.appendChild(b)}function Ne(a,b,c,d){this.ca=[a,b];this.P=[c,d];this.Ta=0}
function jf(){var a=ne=new df(document.body,768,1004),b=document.createElement("meta");b.name="apple-mobile-web-app-capable";b.content="yes";document.getElementsByTagName("head").item(0).appendChild(b);b=document.createElement("meta");b.name="apple-mobile-web-app-status-bar-style";b.content="black";document.getElementsByTagName("head").item(0).appendChild(b);b=l;if(s(localStorage))b=localStorage.getItem("_lime_visited");if(/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&!window.navigator.re&&!b&&
a.b.parentNode==document.body){alert("Please install this page as a web app by clicking Share + Add to home screen.");s(localStorage)&&localStorage.setItem("_lime_visited",i)}ee="Impact";Kc('@font-face{font-family: "Impact";src: url(assets/impact.ttf) format("truetype");})');Ie()}var kf="zlizer.start".split("."),lf=q;!(kf[0]in lf)&&lf.execScript&&lf.execScript("var "+kf[0]);for(var mf;kf.length&&(mf=kf.shift());)if(!kf.length&&s(jf))lf[mf]=jf;else lf=lf[mf]?lf[mf]:lf[mf]={};
