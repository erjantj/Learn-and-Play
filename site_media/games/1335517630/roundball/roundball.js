var h=true,l=null,m=false,n,s=this;function t(){}
function aa(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function u(a){return a!==undefined}function v(a){return aa(a)=="array"}function ba(a){var b=aa(a);return b=="array"||b=="object"&&typeof a.length=="number"}function w(a){return typeof a=="string"}function ca(a){return typeof a=="number"}function da(a){return aa(a)=="function"}function ea(a){a=aa(a);return a=="object"||a=="array"||a=="function"}function x(a){return a[fa]||(a[fa]=++ga)}
var fa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ga=0;function ha(a){return a.call.apply(a.bind,arguments)}function ia(a,b){var c=b||s;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}
function ja(){ja=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ha:ia;return ja.apply(l,arguments)}function ka(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var la=Date.now||function(){return+new Date};function y(a,b){function c(){}c.prototype=b.prototype;a.Xa=b.prototype;a.prototype=new c};var ma={},na,oa,pa;function z(a,b){this.x=u(a)?a:0;this.y=u(b)?b:0}z.prototype.d=function(){return new z(this.x,this.y)};function qa(a,b){if(a==b)return h;if(!a||!b)return m;return a.x==b.x&&a.y==b.y};function ra(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}ra.prototype.d=function(){return new ra(this.top,this.right,this.bottom,this.left)};ra.prototype.contains=function(a){a=!this||!a?m:a instanceof ra?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return a};
ra.prototype.expand=function(a,b,c,d){if(ea(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};function A(a,b){this.width=a;this.height=b}n=A.prototype;n.d=function(){return new A(this.width,this.height)};function sa(a){return a.width*a.height}n.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};n.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};n.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
n.scale=function(a){this.width*=a;this.height*=a;return this};ra.prototype.size=function(){return new A(this.right-this.left,this.bottom-this.top)};function ta(){}ta.prototype.u=t;function B(a){return a.Pc?a.Pc:a}function ua(a,b){va(b,a);b.Pc=B(a);return b};var C=new ta;C.Ha=function(){};
C.Ld=function(){var a=this.Qa,b=this.Jb(),c=this.fa||1,d=c/a,e;if(this.a){if(this.wb&&this.wb.contains(b)&&(e=sa(this.wb.size())/sa(b.size()))&&e<1.6&&e>0.5)b=this.wb;else if(this.Ae!=1&&this.e.length!=0)this instanceof D||b.expand(12,12,12,12);this.wb=b;var f=b.size();e=f.d().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height){this.a.width=e.width;this.a.height=e.height;this.Lb=1}var g=this.r.d();if(this.j[E])g=this.j[E];e.width!=0?g.scale(f.width*d/e.width):g.scale(1/a);a=F(this);
this.Zb=(a.left-b.left)*c;this.$b=(a.top-b.top)*c;b=this.f().d();a=this.aa;b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.k.d();if(this.j[G])c=this.j[G];c.x*=d;c.y*=d;c.x-=b.width+this.Zb;c.y-=b.height+this.$b;wa(this.a,(this.Zb+b.width)/e.width*100,(this.$b+b.height)/e.height*100,h);if(!this.V[G]&&!this.V[E]&&!this.V[xa]){d=-(this.ga%=360);if(u(this.j[xa]))d=-this.j[xa];ya(this.a,za(new Aa,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d))}if(this.Lb){d=this.a.getContext("2d");c=this.fa||1;d.clearRect(0,
0,e.width,e.height);d.save();d.translate(this.Zb,this.$b);d.scale(c,c);e=this.f();g=this.aa;d.translate(e.width*g.x,e.height*g.y);this.n.ed.call(this,d);d.restore();this.Lb=0}}};C.update=function(){};
C.ed=function(a){if(this.v){if(this.i!=this.ka){this.ka&&H.Ad.call(this);this.i&&H.Lc.call(this)}if(!this.Ca)if(!(this.Cb||this.B==0||this.nc==1)){if(this.B!=1)a.globalAlpha*=this.B;if(this.i){H.Sc.call(this.i);var b=this.ka,c=this.r;a.save();a.save();a.translate(b.qd.x,b.qd.y);a.rotate(-b.rd);this.nb&&a.rotate((this.ga%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.sc/c.x,0);a.lineTo(b.sc/c.x,b.rc/c.y);a.lineTo(0,b.rc/c.y);a.closePath();a.restore();a.clip()}b=new z(0,0);this.n.u.call(this,
a);for(var d=0,e;e=this.e[d];d++){var f=Ba(e,b).d(),g=e.ga%=360;c=e.r;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);g!=0&&a.rotate(-g*Math.PI/180);this.n.ed.call(e,a);a.restore()}if(this.B!=1)a.globalAlpha/=this.B;this.ka&&a.restore()}}};function Ca(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Da(a){if(!Ea.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Fa,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Ga,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ha,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ia,"&quot;");return a}var Fa=/&/g,Ga=/</g,Ha=/>/g,Ia=/\"/g,Ea=/[&<>\"]/;
function Ja(a,b){for(var c=0,d=Ca(String(a)).split("."),e=Ca(String(b)).split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var j=d[g]||"",k=e[g]||"",o=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var p=o.exec(j)||["","",""],r=q.exec(k)||["","",""];if(p[0].length==0&&r[0].length==0)break;c=Ka(p[1].length==0?0:parseInt(p[1],10),r[1].length==0?0:parseInt(r[1],10))||Ka(p[2].length==0,r[2].length==0)||Ka(p[2],r[2])}while(c==0)}return c}
function Ka(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};var I=Array.prototype,La=I.indexOf?function(a,b,c){return I.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(w(a)){if(!w(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=I.forEach?function(a,b,c){I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Na=I.filter?function(a,b,c){return I.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],
f=0,g=w(a)?a.split(""):a,j=0;j<d;j++)if(j in g){var k=g[j];if(b.call(c,k,j,a))e[f++]=k}return e},Oa=I.map?function(a,b,c){return I.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)if(g in f)e[g]=b.call(c,f[g],g,a);return e};function Pa(a,b){La(a,b)>=0||a.push(b)}function Qa(a,b){var c=La(a,b);c>=0&&I.splice.call(a,c,1)}function Ra(){return I.concat.apply(I,arguments)}
function Sa(a){if(v(a))return Ra(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Ta(a){if(v(a))return Ra(a);return Sa(a)}function Ua(a){return I.splice.apply(a,Va(arguments,1))}function Va(a,b,c){return arguments.length<=2?I.slice.call(a,b):I.slice.call(a,b,c)}function Wa(a){for(var b={},c=0,d=0;d<a.length;){var e=a[d++],f=ea(e)?"o"+x(e):(typeof e).charAt(0)+e;if(!Object.prototype.hasOwnProperty.call(b,f)){b[f]=h;a[c++]=e}}a.length=c};function J(a,b){this.x=Number(a)||0;this.y=Number(b)||0}y(J,z);J.prototype.d=function(){return new J(this.x,this.y)};J.prototype.scale=function(a){this.x*=a;this.y*=a;return this};var Xa,Ya,Za,$a,ab,bb;function cb(){return s.navigator?s.navigator.userAgent:l}ab=$a=Za=Ya=Xa=m;var db;if(db=cb()){var eb=s.navigator;Xa=db.indexOf("Opera")==0;Ya=!Xa&&db.indexOf("MSIE")!=-1;$a=(Za=!Xa&&db.indexOf("WebKit")!=-1)&&db.indexOf("Mobile")!=-1;ab=!Xa&&!Za&&eb.product=="Gecko"}var fb=Xa,K=Ya,gb=ab,L=Za,hb=$a,ib,jb=s.navigator;ib=jb&&jb.platform||"";bb=ib.indexOf("Mac")!=-1;var kb=ib.indexOf("Win")!=-1,lb;
a:{var mb="",nb;if(fb&&s.opera){var ob=s.opera.version;mb=typeof ob=="function"?ob():ob}else{if(gb)nb=/rv\:([^\);]+)(\)|;)/;else if(K)nb=/MSIE\s+([^\);]+)(\)|;)/;else if(L)nb=/WebKit\/(\S+)/;if(nb){var pb=nb.exec(cb());mb=pb?pb[1]:""}}if(K){var qb,sb=s.document;qb=sb?sb.documentMode:undefined;if(qb>parseFloat(mb)){lb=String(qb);break a}}lb=mb}var tb={};function ub(a){return tb[a]||(tb[a]=Ja(lb,a)>=0)};function vb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var wb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function va(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<wb.length;e++){b=wb[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var xb;!K||ub("9");var yb=K&&!ub("8");function zb(){}zb.prototype.dd=m;zb.prototype.yb=function(){if(!this.dd){this.dd=h;this.da()}};zb.prototype.da=function(){};function Ab(a,b){this.type=a;this.currentTarget=this.target=b}y(Ab,zb);n=Ab.prototype;n.da=function(){delete this.type;delete this.target;delete this.currentTarget};n.qa=m;n.qb=h;n.stopPropagation=function(){this.qa=h};n.preventDefault=function(){this.qb=m};var Bb=new Function("a","return a");function Cb(a,b){a&&this.Db(a,b)}y(Cb,Ab);n=Cb.prototype;n.target=l;n.relatedTarget=l;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=m;n.altKey=m;n.shiftKey=m;n.metaKey=m;n.de=m;n.na=l;
n.Db=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(gb)try{Bb(d.nodeName)}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.de=bb?a.metaKey:a.ctrlKey;this.state=a.state;this.na=a;delete this.qb;delete this.qa};n.stopPropagation=function(){Cb.Xa.stopPropagation.call(this);if(this.na.stopPropagation)this.na.stopPropagation();else this.na.cancelBubble=h};
n.preventDefault=function(){Cb.Xa.preventDefault.call(this);var a=this.na;if(a.preventDefault)a.preventDefault();else{a.returnValue=m;if(yb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};n.da=function(){Cb.Xa.da.call(this);this.relatedTarget=this.currentTarget=this.target=this.na=l};function Db(){}var Eb=0;n=Db.prototype;n.key=0;n.Ra=m;n.Uc=m;n.Db=function(a,b,c,d,e,f){if(da(a))this.nd=h;else if(a&&a.handleEvent&&da(a.handleEvent))this.nd=m;else throw Error("Invalid listener argument");this.lb=a;this.zd=b;this.src=c;this.type=d;this.capture=!!e;this.jc=f;this.Uc=m;this.key=++Eb;this.Ra=m};n.handleEvent=function(a){if(this.nd)return this.lb.call(this.jc||this.src,a);return this.lb.handleEvent.call(this.lb,a)};var Fb;var Gb=(Fb="ScriptEngine"in s&&s.ScriptEngine()=="JScript")?s.ScriptEngineMajorVersion()+"."+s.ScriptEngineMinorVersion()+"."+s.ScriptEngineBuildVersion():"0";function M(a,b){this.td=b;this.za=[];if(a>this.td)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var c=0;c<a;c++)this.za.push(this.ia?this.ia():{})}y(M,zb);M.prototype.ia=l;M.prototype.cd=l;function Hb(a){if(a.za.length)return a.za.pop();return a.ia?a.ia():{}}function Ib(a,b){a.za.length<a.td?a.za.push(b):Jb(a,b)}function Jb(a,b){if(a.cd)a.cd(b);else if(ea(b))if(da(b.yb))b.yb();else for(var c in b)delete b[c]}
M.prototype.da=function(){M.Xa.da.call(this);for(var a=this.za;a.length;)Jb(this,a.pop());delete this.za};var Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub;
(function(){function a(){return{ca:0,Y:0}}function b(){return[]}function c(){function r(V){return g.call(r.src,r.key,V)}return r}function d(){return new Db}function e(){return new Cb}var f=Fb&&!(Ja(Gb,"5.7")>=0),g;Pb=function(r){g=r};if(f){Kb=function(){return Hb(j)};Lb=function(r){Ib(j,r)};Mb=function(){return Hb(k)};Nb=function(r){Ib(k,r)};Ob=function(){return Hb(o)};Qb=function(){Ib(o,c())};Rb=function(){return Hb(q)};Sb=function(r){Ib(q,r)};Tb=function(){return Hb(p)};Ub=function(r){Ib(p,r)};
var j=new M(0,600);j.ia=a;var k=new M(0,600);k.ia=b;var o=new M(0,600);o.ia=c;var q=new M(0,600);q.ia=d;var p=new M(0,600);p.ia=e}else{Kb=a;Lb=t;Mb=b;Nb=t;Ob=c;Qb=t;Rb=d;Sb=t;Tb=e;Ub=t}})();var Vb={},N={},Wb={},Xb={};
function O(a,b,c,d,e){if(b)if(v(b)){for(var f=0;f<b.length;f++)O(a,b[f],c,d,e);return l}else{d=!!d;var g=N;b in g||(g[b]=Kb());g=g[b];if(!(d in g)){g[d]=Kb();g.ca++}g=g[d];var j=x(a),k;g.Y++;if(g[j]){k=g[j];for(f=0;f<k.length;f++){g=k[f];if(g.lb==c&&g.jc==e){if(g.Ra)break;return k[f].key}}}else{k=g[j]=Mb();g.ca++}f=Ob();f.src=a;g=Rb();g.Db(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Vb[c]=g;Wb[j]||(Wb[j]=Mb());Wb[j].push(g);if(a.addEventListener){if(a==s||!a.cc)a.addEventListener(b,f,d)}else a.attachEvent(Yb(b),
f);return c}else throw Error("Invalid event type");}function Zb(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Zb(a,b[f],c,d,e);else{d=!!d;a:{f=N;if(b in f){f=f[b];if(d in f){f=f[d];a=x(a);if(f[a]){a=f[a];break a}}}a=l}if(a)for(f=0;f<a.length;f++)if(a[f].lb==c&&a[f].capture==d&&a[f].jc==e){$b(a[f].key);break}}}
function $b(a){if(Vb[a]){var b=Vb[a];if(!b.Ra){var c=b.src,d=b.type,e=b.zd,f=b.capture;if(c.removeEventListener){if(c==s||!c.cc)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Yb(d),e);c=x(c);e=N[d][f][c];if(Wb[c]){var g=Wb[c];Qa(g,b);g.length==0&&delete Wb[c]}b.Ra=h;e.vd=h;ac(d,f,c,e);delete Vb[a]}}}
function ac(a,b,c,d){if(!d.Hb)if(d.vd){for(var e=0,f=0;e<d.length;e++)if(d[e].Ra){var g=d[e].zd;g.src=l;Qb(g);Sb(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.vd=m;if(f==0){Nb(d);delete N[a][b][c];N[a][b].ca--;if(N[a][b].ca==0){Lb(N[a][b]);delete N[a][b];N[a].ca--}if(N[a].ca==0){Lb(N[a]);delete N[a]}}}}
function bc(a){var b,c=0,d=b==l;b=!!b;if(a==l)vb(Wb,function(g){for(var j=g.length-1;j>=0;j--){var k=g[j];if(d||b==k.capture){$b(k.key);c++}}});else{a=x(a);if(Wb[a]){a=Wb[a];for(var e=a.length-1;e>=0;e--){var f=a[e];if(d||b==f.capture){$b(f.key);c++}}}}}function Yb(a){if(a in Xb)return Xb[a];return Xb[a]="on"+a}
function cc(a,b,c,d,e){var f=1;b=x(b);if(a[b]){a.Y--;a=a[b];if(a.Hb)a.Hb++;else a.Hb=1;try{for(var g=a.length,j=0;j<g;j++){var k=a[j];if(k&&!k.Ra)f&=dc(k,e)!==m}}finally{a.Hb--;ac(c,d,b,a)}}return Boolean(f)}function dc(a,b){var c=a.handleEvent(b);a.Uc&&$b(a.key);return c}
Pb(function(a,b){if(!Vb[a])return h;var c=Vb[a],d=c.type,e=N;if(!(d in e))return h;e=e[d];var f,g;if(xb===undefined)xb=K&&!s.addEventListener;if(xb){var j;if(!(j=b))a:{j="window.event".split(".");for(var k=s;f=j.shift();)if(k[f]!=l)k=k[f];else{j=l;break a}j=k}f=j;j=h in e;k=m in e;if(j){if(f.keyCode<0||f.returnValue!=undefined)return h;a:{var o=m;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(q){o=h}if(o||f.returnValue==undefined)f.returnValue=h}}o=Tb();o.Db(f,this);f=h;try{if(j){for(var p=Mb(),r=
o.currentTarget;r;r=r.parentNode)p.push(r);g=e[h];g.Y=g.ca;for(var V=p.length-1;!o.qa&&V>=0&&g.Y;V--){o.currentTarget=p[V];f&=cc(g,p[V],d,h,o)}if(k){g=e[m];g.Y=g.ca;for(V=0;!o.qa&&V<p.length&&g.Y;V++){o.currentTarget=p[V];f&=cc(g,p[V],d,m,o)}}}else f=dc(c,o)}finally{if(p){p.length=0;Nb(p)}o.yb();Ub(o)}return f}d=new Cb(b,this);try{f=dc(c,d)}finally{d.yb()}return f});function ec(){}y(ec,zb);n=ec.prototype;n.cc=h;n.wc=l;n.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Zb(this,a,b,c,d)};
n.dispatchEvent=function(a){if(w(a))a=new Ab(a,this);else if(a instanceof Ab)a.target=a.target||this;else{var b=a;a=new Ab(a.type,this);va(a,b)}b=1;var c,d=a.type,e=N;if(d in e){e=e[d];d=h in e;var f;if(d){c=[];for(f=this;f;f=f.wc)c.push(f);f=e[h];f.Y=f.ca;for(var g=c.length-1;!a.qa&&g>=0&&f.Y;g--){a.currentTarget=c[g];b&=cc(f,c[g],a.type,h,a)&&a.qb!=m}}if(m in e){f=e[m];f.Y=f.ca;if(d)for(g=0;!a.qa&&g<c.length&&f.Y;g++){a.currentTarget=c[g];b&=cc(f,c[g],a.type,m,a)&&a.qb!=m}else for(c=this;!a.qa&&
c&&f.Y;c=c.wc){a.currentTarget=c;b&=cc(f,c,a.type,m,a)&&a.qb!=m}}a=Boolean(b)}else a=h;return a};n.da=function(){ec.Xa.da.call(this);bc(this);this.wc=l};var fc,gc,hc,ic,jc,kc=cb();gc=(fc=L&&hb&&/(ipod|iphone|ipad)/i.test(kc))&&da(Object.freeze);hc=L&&hb&&/(android)/i.test(kc);ic=L&&/playbook/i.test(kc);jc=u(document.ontouchmove);var lc;function mc(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Va(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(La(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};var nc=!K||ub("9");K&&ub("9");function oc(a){return a?new pc(qc(a)):lc||(lc=new pc)}
function rc(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!L||sc(document)||ub("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)if(b==g.nodeName)d[e++]=g;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;g=a[f];f++){b=g.className;if(typeof b.split=="function"&&La(b.split(/\s+/),c)>=0)d[e++]=g}d.length=e;return d}else return a}
function tc(a,b){vb(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in uc)a.setAttribute(uc[d],c);else a[d]=c})}var uc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function vc(a){var b=a.document;if(L&&!ub("500")&&!hb){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new A(a.innerWidth,b)}a=sc(b);if(fb&&!ub("9.50"))a=m;a=a?b.documentElement:b.body;return new A(a.clientWidth,a.clientHeight)}function wc(){return xc(document,arguments)}
function xc(a,b){var c=b[0],d=b[1];if(!nc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Da(d.name),'"');if(d.type){c.push(' type="',Da(d.type),'"');var e={};va(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(w(d))c.className=d;else v(d)?mc.apply(l,[c].concat(d)):tc(c,d);b.length>2&&yc(a,c,b,2);return c}
function yc(a,b,c,d){function e(g){if(g)b.appendChild(w(g)?a.createTextNode(g):g)}for(;d<c.length;d++){var f=c[d];ba(f)&&!(ea(f)&&f.nodeType>0)?Ma(zc(f)?Sa(f):f,e):e(f)}}function sc(a){return a.compatMode=="CSS1Compat"}function Ac(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function Bc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Cc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Dc(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function qc(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function Ec(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(qc(a).createTextNode(b))}}function zc(a){if(a&&typeof a.length=="number")if(ea(a))return typeof a.item=="function"||typeof a.item=="string";else if(da(a))return typeof a.item=="function";return m}function pc(a){this.ea=a||s.document||document}n=pc.prototype;
n.Zc=function(){return xc(this.ea,arguments)};n.createElement=function(a){return this.ea.createElement(a)};n.createTextNode=function(a){return this.ea.createTextNode(a)};n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a){yc(qc(a),a,arguments,1)};n.contains=Dc;function Fc(a,b){var c;a:{c=qc(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,l)){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:l)||a.style[b]}
function Gc(a){if(K)return a.offsetParent;var b=qc(a),c=Fc(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Fc(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"))return a}return l}function Hc(a,b,c){if(b instanceof A){c=b.height;b=b.width}else if(c==undefined)throw Error("missing height argument");a.style.width=Ic(b);a.style.height=Ic(c)}
function Ic(a){if(typeof a=="number")a=Math.round(a)+"px";return a}
function Jc(a){var b=fb&&!ub("10");if(Fc(a,"display")!="none")return b?new A(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new A(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new A(b,a)}
function Kc(a){var b=oc(void 0),c=l;if(K){c=b.ea.createStyleSheet();Lc(c,a)}else{var d=rc(b.ea,"head",void 0,void 0)[0];if(!d){c=rc(b.ea,"body",void 0,void 0)[0];d=b.Zc("head");c.parentNode.insertBefore(d,c)}c=b.Zc("style");Lc(c,a);b.appendChild(d,c)}return c}function Lc(a,b){if(K)a.cssText=b;else a[L?"innerText":"innerHTML"]=b};var Mc,Nc,Oc,Pc,Qc,Rc,Sc;(function(){var a=L?"Webkit":gb?"Moz":fb?"O":K?"ms":"",b=wc("div").style;Mc="-"+a.toLowerCase()+"-transform";Nc=function(c){return b[c]!==undefined?c:m};Oc=function(c){var d=c.charAt(0).toLowerCase()+c.substr(1),e=a+c;return Nc(c)?c:Nc(d)?d:Nc(e)?e:undefined}})();var Tc=function(){var a=Oc("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=u(d)?d:c;c=(v(c)?c.join(e+" "):c)+e+"/"+((v(d)?d.join(e+" "):d)+e);if(c!=b.Jd)b.style[a]=b.Jd=c}}();
function Aa(a){this.Tb=[];this.Pa=1;this.xe&&za(this,a)}Aa.prototype.scale=function(a,b){this.Tb.push("scale("+a+","+b+")");return this};Aa.prototype.rotate=function(a,b){a!=0&&this.Tb.push("rotate("+a+(b?b:"deg")+")");return this};Aa.prototype.translate=function(a,b,c){var d=1/this.Pa,e="translate";if(fc||ic)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(fc||ic)e+=","+(c?c:0)*d+"px";this.Tb.push(e+")");return this};
function za(a,b){if(a.Pa!=1){var c=1/a.Pa;a.scale(c,c);a.Pa=1}if(b!=1){a.scale(b,b);a.Pa=b}return a}Aa.prototype.toString=function(){this.Pa!=1&&za(this,1);return this.Tb.join(" ")};var ya=function(){var a=Oc("Transform");return function(b,c){var d=c.toString();if(d!=b.oe)b.style[a]=b.oe=d;na=1}}(),wa=function(){var a=Oc("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;if(c!=b.pe)b.style[a]=b.pe=c}}();
(function(){function a(c,d){if(!c.length)return c;for(var e=c.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=Na(e,function(g){return g.indexOf(d)==-1});return e.join(",")}var b=Oc("Transition");Pc=!!b&&!fb;Qc=function(c,d,e,f){if(b){var g=a(c.style[b],d);if(g.length)g+=", ";g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};Rc=function(c,d){if(b&&c)c.style[b]=a(c.style[b],d)};Sc=function(c,d,e){if(c.qe!=d||c.Td!=e){c.qe=d;c.Td=e;Hc(c,d,e)}}})();var H=new ta;H.Ha=function(){for(var a=0,b,c=0;b=this.e[c];c++){b=b instanceof P?b.C:b;if(b==this.a.childNodes[a])a++;else{Dc(this.S,b)&&Cc(b);H.Hd(this.S,b,a++)}}};
H.Md=function(){var a=this.f(),b=this.Qa,c=this.k,d=this.fa||1;if(this.j[G])c=this.j[G];var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.r.d();if(this.j[E])g=this.j[E].d();e!=0?g.scale(a.width/(e*b/d)):g.scale(1/b);Sc(this.a,e,f);wa(this.a,this.aa.x*100,this.aa.y*100,h);e=this.aa.x*a.width*d;f=this.aa.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.O?this.O.Ub:0;if((e-c!=0||f-c!=0)&&this.a==this.S&&this.e.length)H.$d.call(this);this.a!=this.S&&!this.V[G]&&!this.V[E]&&!this.V[xa]&&ya(this.S,
(new Aa).translate(e-c,f-c));if(this.i!=this.ka){this.ka&&H.Ad.call(this);this.i&&H.Lc.call(this)}c=za(new Aa,0.1);if(this.i){H.Sc.call(this.i);za(za(c,0.1).translate(-this.i.Yd-e,-this.i.Zd-f).rotate(this.i.rd,"rad").translate(e,f),1)}e=-(this.ga%=360);if(u(this.j[xa]))e=-this.j[xa];c.translate(a,b).scale(g.x,g.y).rotate(e);!this.V[G]&&!this.V[E]&&!this.V[xa]&&ya(this.a,c)};
H.update=function(){if(this.a){H.Md.call(this);if(!this.V[Uc]){var a=this.B;if(u(this.j[Uc]))a=this.j[Uc];if(this.A&Vc){var b=this.a.style;if("opacity"in b)b.opacity=a;else if("MozOpacity"in b)b.MozOpacity=a;else if("filter"in b)b.filter=a===""?"":"alpha(opacity="+a*100+")"}}if(this.A&Wc)this.a.style.display=this.Cb?"none":"block";this.Ca||this.n.u.call(this,this.a)}};
H.Sc=function(){if(u(this.Gc)&&this.Gc.v){var a=this.Gc,b=F(this),c=new z(b.left,b.top),d=new z(b.right,b.top),e=new z(b.right,b.bottom);b=a.getParent();c=Xc(this,c,b);d=Xc(this,d,b);e=Xc(this,e,b);b=Math.atan2(c.y-d.y,d.x-c.x);var f=d.x-c.x,g=c.y-d.y,j=e.x-d.x,k=e.y-d.y;d=Math.cos(b);e=Math.sin(b);this.sc=Math.round(Math.sqrt(f*f+g*g));this.rc=Math.round(Math.sqrt(j*j+k*k));if(B(a.n)==H){f=a.C;Hc(f,this.sc,this.rc);ya(f,za(new Aa,0.1).translate(c.x,c.y).rotate(-b,"rad"))}if(B(this.n)==H)this.a.style.display=
"none";this.qd=Yc(a,c.d());this.Xd=h;this.Yd=d*c.x-e*c.y;this.Zd=d*c.y+e*c.x;this.rd=b}};H.Hd=function(a,b,c){c==undefined||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};H.$d=function(){this.S=wc("div");for(var a=document.createDocumentFragment(),b;b=this.a.firstChild;){this.a.removeChild(b);a.appendChild(b)}this.S.appendChild(a);this.a.appendChild(this.S)};
H.Ad=function(){if(this.a!=this.C){if(B(this.n)==H){Cc(this.a);var a=this.C,b=a.parentNode;b&&b.replaceChild(this.a,a);this.C=this.a}this.ka.nc=0;this.ka=l}};H.Lc=function(){if(B(this.n)==H){this.C=wc("div");this.C.style.cssText="position:absolute;overflow:hidden;";wa(this.C,0,0);var a=this.a,b=a.parentNode;b&&b.replaceChild(this.C,a);this.C.appendChild(this.a)}this.i.nc=1;this.i.Gc=this;this.ka=this.i;Q(this.i,Zc)};function $c(a){this.ba=Fb?[]:"";a!=l&&this.append.apply(this,arguments)}if(Fb){$c.prototype.ac=0;$c.prototype.append=function(a,b){if(b==l)this.ba[this.ac++]=a;else{this.ba.push.apply(this.ba,arguments);this.ac=this.ba.length}return this}}else $c.prototype.append=function(a,b){this.ba+=a;if(b!=l)for(var c=1;c<arguments.length;c++)this.ba+=arguments[c];return this};$c.prototype.clear=function(){if(Fb)this.ac=this.ba.length=0;else this.ba=""};
$c.prototype.toString=function(){if(Fb){var a=this.ba.join("");this.clear();a&&this.append(a);return a}else return this.ba};(function(){var a=[[],[]],b=[[],[]];oa=function(c,d,e){Pa((e?b:a)[d||0],c)};pa=function(){for(var c,d=0;d<2;d++){for(;a[d].length;){c=a[d][0];c.update(d);c.A=0;c==a[d][0]&&a[d].shift()}a[d]=[]}b=[[],[]]}})();var Zc=1,Vc=16,Wc=32,G=1,E=2,xa=4,Uc=5,ad;var bd=new $c;
bd.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.",
"lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
ad=bd.toString();Kc(ad);function P(){this.e=[];this.g=l;this.ta={};this.j={};this.V={};this.Hc={};this.v=m;this.Cc=this.ec=l;this.D={};this.Ua(1);this.b(0,0);this.c(0,0);this.Qa=1;this.N(0.5,0.5);this.ga=0;this.j[xa]||Q(this,Zc);this.Oc=0;Q(this,7);this.B=1;cd(this,l);dd(this,B(this.Ea[0]));Q(this,64)}y(P,ec);n=P.prototype;n.Ea=[H,C];function dd(a,b){if(!a.n||B(a.n)!=b){for(var c=-1,d=0;d<a.Ea.length;d++)if(B(a.Ea[d])==b){c=d;break}if(c==-1)return a;a.n=a.Ea[d];Q(a,64);for(d=0;c=a.e[d];d++)dd(c,b)}return a}
n.nb=function(){return!(this.g&&B(this.g.n)==C)};function ed(a){if(a.nb()){a.nb()?fd(a):gd(a);return a}else if(a.g)return ed(a.g);return l}function hd(a){if(!a.g||a instanceof D)return[];var b=a.g.e.indexOf(a);a=hd(a.g);a.push(b);return a}function id(a,b){if(a==b)return 0;for(var c=hd(a),d=hd(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}n.cc=m;
function Q(a,b,c,d){b&&!a.A&&oa(a,c,d);a.A|=b;if(b==64)for(c=0;d=a.e[c];c++)d instanceof P&&Q(d,64);if(!u(a.A)||!b)a.A=0;if(b&&a.Ca){a.Xd=m;Q(a.Ca,-1)}return a}n.Ua=function(a){this.r=arguments.length==1&&ca(a)?new J(a,a):arguments.length==2?new J(arguments[0],arguments[1]):a;if(this.j[E])return this;return Q(this,2)};n.b=function(a){this.k=arguments.length==2?new z(arguments[0],arguments[1]):a;if(this.j[G])return this;return Q(this,Zc)};
function cd(a,b){if(b!=a.i){if(a.i){var c=a.i;delete c.dc;jd(c,c.getParent());delete a.i.Ca}a.i=b;if(a.i){kd(a.i);a.i.Ca=a}Q(a,4)}}n.N=function(a){this.aa=arguments.length==2?new J(arguments[0],arguments[1]):a;return Q(this,Zc)};function ld(a,b){a.Cb=b;Q(a,Wc);a.Nc=0}n.f=function(){return this.t};
n.c=function(a){var b=this.t,c,d;c=arguments.length==2?new A(arguments[0],arguments[1]):a;var e=this.aa;if(b&&this.e.length)for(var f=0;f<this.e.length;f++){var g=this.e[f];if(g.Rd){var j=g.Oc;if(j!=0){var k=md(g);d=b.width;var o=k.left+e.x*b.width,q=k.right-k.left,p=d-k.right-e.x*b.width;if(j&1)d-=o;if(j&2)d-=q;if(j&4)d-=p;if(d!=b.width){d=(c.width-d)/(b.width-d);if(j&1)o*=d;if(j&2)q*=d}d=b.height;p=k.top+e.y*b.height;var r=k.bottom-k.top;k=d-k.bottom-e.y*b.height;if(j&8)d-=p;if(j&16)d-=r;if(j&32)d-=
k;if(d!=b.height){d=(c.height-d)/(b.height-d);if(j&8)p*=d;if(j&16)r*=d}j=g.aa;g.c(q,r);g.b(o+j.x*q-e.x*c.width,p+j.y*r-e.y*c.height)}}}this.t=c;return Q(this,2)};function nd(a){a.fa||od(a);return a.fa}function od(a){var b=u(a.fa)?a.fa:a.Qa;if(a.g&&a.g.fa)b=a.Qa*a.g.fa;if(b!=a.fa){a.fa=b;b=0;for(var c;c=a.e[b];b++)c instanceof P&&od(c);Q(a,2)}}n.Rd=function(){return this.Oc};n.Da=function(a){if(!this.v)return a;return Yc(this,this.getParent().Da(a))};
function Yc(a,b){if(!a.getParent())return l;b.x-=a.k.x;b.y-=a.k.y;b.x/=a.r.x;b.y/=a.r.y;if(a.ga!=0){var c=b.d(),d=a.ga*Math.PI/180,e=Math.cos(d);d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}n.qc=function(a){if(!this.v)return a;return this.getParent().qc(Ba(this,a))};function Ba(a,b){if(!a.getParent())return b;var c=b.d();if(a.ga!=0){var d=-a.ga*Math.PI/180,e=Math.cos(d);d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.r.x;c.y*=a.r.y;c.x+=a.k.x;c.y+=a.k.y;return c}
function Xc(a,b,c){if(!a.v)return b;return c.Da(a.qc(b))}function pd(a,b){a.B=b;var c=a.Cb;if(a.B==0&&!c){ld(a,h);a.Nc=1}else a.B!=0&&c&&a.Nc&&ld(a,m);if(u(a.j[Uc]))return a;Q(a,Vc);return a}function fd(a){function b(){this.a=this.C=this.S=wc(c);this.gb&&mc(this.a,this.gb);this.A|=-1}var c=B(a.n)==C?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.C;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.C,d)}}else b.call(a)}
function gd(a){if(a.C){Cc(a.C);delete a.a;delete a.C;delete a.S}}n.Ha=function(){this.A&=-65;this.nb()?fd(this):gd(this);if(this.g&&this.g.A&64)this.g.Ha();else if(this.nb()){for(var a=0,b;b=this.e[a];a++)b instanceof P&&b.Ha();this.n.Ha.call(this)}};
n.update=function(a){var b,c;a=a||0;x(this);this.A&64&&this.Ha();var d=B(this.n)==H||a;if(d){for(var e in this.Hc){delete this.j[e];delete this.V[e];b=parseInt(e,10)==Uc?"opacity":Mc;Rc(this.a,b);this.a!=this.S&&Rc(this.se,b)}b=0;for(e in this.ta){c=this.ta[e];if(!c[3]){c[3]=1;if(e==G&&this.ee!=this.k){Q(this,Zc,0,h);b=1}if(e==E&&this.he!=this.r){Q(this,2,0,h);b=1}if(e==Uc&&this.be!=this.B){Q(this,Vc,0,h);b=1}if(e==xa&&this.ge!=this.ga){Q(this,128,0,h);b=1}}}if(!b)for(e in this.ta){c=this.ta[e];b=
parseInt(e,10)==Uc?"opacity":Mc;if(B(this.n)==H||b!="opacity"){this.j[e]=c[0];Qc(this.a,b,c[1],c[2]);this.a!=this.S&&b==Mc&&Qc(this.S,b,c[1],c[2])}delete this.ta[e]}this.ee=this.k;this.he=this.r;this.be=this.B;this.ge=this.ga;this.Hc={}}if(a)this.n.Ld.call(this);else{if(B(this.n)==C){c=ed(this);c.Lb=1;if(c==this&&this.A==Zc&&!this.i)c.Lb=0;oa(ed(this),1)}this.n.update.call(this)}if(d)for(e in this.j)if(this.j[e])this.V[e]=h;if(this.wa)for(e=0;e<this.wa.length;e++)Q(this.wa[e],7);Q(this,0,a)};
n.getParent=function(){return this.g?this.g:l};n.appendChild=function(a,b){if(a instanceof P&&a.getParent())a.getParent().removeChild(a);else a.parentNode&&Cc(a);a.g=this;b==undefined?this.e.push(a):Ua(this.e,b,0,a);B(this.n)!=H&&dd(a,B(this.n));if(a instanceof P){od(a);this.v&&qd(a)}return Q(this,64)};
n.removeChild=function(a){a=this.e.indexOf(a);if(a>=0&&this.e.length>a){var b=a>=0&&this.e.length>a?this.e[a]:l;b.Ca&&cd(b.Ca,l);if(b instanceof P){this.v&&rd(b);gd(b);b.g=l}else Cc(b);this.e.splice(a,1);a=Q(this,64)}else a=this;return a};n.addEventListener=function(a){if(!(jc&&a.substring(0,5)=="mouse")){u(this.D[a])||(this.D[a]=[0,0]);if(this.v&&this.D[a][0]==0){this.D[a][0]=1;this.L().La.Mb(this,a)}this.D[a][1]++}};
n.removeEventListener=function(a){if(!(jc&&a.substring(0,5)=="mouse")){if(this.v&&this.D[a][1]==1){this.D[a][0]=0;this.L().La.ob(this,a)}this.D[a][1]--;this.D[a][1]||delete this.D[a]}};n.L=function(){if(!this.v)return l;return this.ec};n.Bb=function(){if(!this.v)return l;return this.Cc};function rd(a){var b;a.dc||jd(a,a.getParent());for(var c=0;b=a.e[c];c++)b instanceof P&&rd(b);for(var d in a.D){a.D[d][0]=0;if(!a.L())debugger;a.L().La.ob(a,d)}sd(a.L().La,a);a.v=m;a.ec=l;a.Cc=l}
function qd(a){a.v=h;a.ec=a.g.L();a.Cc=a.g.Bb();for(var b=0,c;c=a.e[b];b++)c instanceof P&&qd(c);for(var d in a.D){a.D[d][0]=1;a.L().La.Mb(a,d)}a.dc&&kd(a);sd(a.L().La,a)}function kd(a){a.dc=h;a.v&&td(a,a.getParent())}function td(a,b){if(!b.wa)b.wa=[];Pa(b.wa,a);!b&&!(b.getParent()instanceof D)&&td(a,b.getParent())}function jd(a,b){if(b&&b.wa){Qa(b.wa,a);jd(a,b.getParent())}}function F(a){var b=a.f();a=a.aa;return new ra(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
function md(a,b){var c=b||F(a),d=new z(c.left,c.top),e=new z(c.right,c.top),f=new z(c.left,c.bottom);c=new z(c.right,c.bottom);d=Ba(a,d);e=Ba(a,e);f=Ba(a,f);c=Ba(a,c);return new ra(Math.floor(Math.min(d.y,e.y,f.y,c.y)),Math.ceil(Math.max(d.x,e.x,f.x,c.x)),Math.ceil(Math.max(d.y,e.y,f.y,c.y)),Math.floor(Math.min(d.x,e.x,f.x,c.x)))}
n.Jb=function(){var a=F(this);if(a.left==a.right&&this.e.length)a=md(this.e[0],this.e[0].Jb());for(var b=0,c;c=this.e[b];b++)if(c.nc!=1){var d=a;c=md(c,c.Jb());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};n.la=function(a){this.Hc[a]=1};n.Aa=function(a){var b=this.Da(a.Sa);if(F(this).contains(b)){a.position=b;return h}return m};function ud(a,b){Pa(b.Ga,a);b.play()};function R(){P.call(this);this.gb="lime-layer"}y(R,P);R.prototype.Aa=function(a){for(var b=0,c;c=this.e[b];b++)if(c.Aa(a)){a.position=this.Da(a.Sa);return h}return m};var S=new function(){this.U=[];this.Ja=m;this.md=0;this.gc=1E3/30;this.Ba=0};function vd(a,b){this.z=this.ud=a;this.oc=u(b)?b:-1;this.oa=[]}vd.prototype.Wa=function(a){if(this.oa.length)if(this.z>a)this.z-=a;else{var b=this.ud+a-this.z;this.z=this.ud-(a-this.z);if(this.z<0)this.z=0;var c;for(a=this.oa.length;--a>=0;)(c=this.oa[a])&&c[0]&&da(c[1])&&c[1].call(c[2],b);if(this.oc!=-1){this.oc--;this.oc==0&&S.vb(c[1],c[2])}}};S.U.push(new vd(0));S.Jc=s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame;
S.ue=function(){return this.gc};S.ze=function(a){this.gc=a;if(this.Ja){S.ad();S.Kc()}};S.Dc=function(a,b,c){c=u(c)?c:this.U[0];Pa(c.oa,[1,a,b]);Pa(this.U,c);this.Ja||S.Kc()};S.vb=function(a,b){for(var c=this.U.length;--c>=0;){for(var d=this.U[c],e=d.oa,f,g=e.length;--g>=0;){f=e[g];f[1]==a&&f[2]==b&&Qa(e,f)}e.length==0&&c!=0&&Qa(this.U,d)}this.U.length==1&&this.U[0].oa.length==0&&S.ad()};
S.Kc=function(){if(!this.Ja){this.Ba=la();if(S.Jc)if(s.mozRequestAnimationFrame){s.mozRequestAnimationFrame();this.Qc=ja(S.Id,this);s.addEventListener("MozBeforePaint",this.Qc,m)}else{this.Yb=ja(S.Gd,this);s.webkitRequestAnimationFrame(this.Yb)}else this.md=setInterval(ja(S.me,this),S.gc);this.Ja=h}};S.ad=function(){if(this.Ja){if(S.Jc)s.mozRequestAnimationFrame?s.removeEventListener("MozBeforePaint",this.Qc,m):s.webkitCancelRequestAnimationFrame(this.Yb);else clearInterval(this.md);this.Ja=m}};
S.Gd=function(a){a||(a=la());S.fc(a-this.Ba);this.Ba=a;s.webkitRequestAnimationFrame(this.Yb)};S.Id=function(a){S.fc(a.timeStamp-this.Ba);this.Ba=a.timeStamp;s.mozRequestAnimationFrame()};S.me=function(){var a=la(),b=a-this.Ba;if(b<0)b=1;S.fc(b);this.Ba=a};S.fc=function(a){for(var b=this.U.length;--b>=0;)this.U[b].Wa(a);if(na==1&&/Firefox\/4./.test(cb())&&!ma.re){if(S.wd){document.body.style.MozTransform="";S.wd=0}else{document.body.style.MozTransform="scale(1,1)";S.wd=1}na=0}};
S.Kd=function(a,b){for(var c,d,e,f,g=this.U.length;--g>=0;){c=this.U[g];for(f=c.oa.length;--f>=0;){e=c.oa[f];d=e[2];if(da(d.L)){d=d.L();if(d==a)e[0]=b}}}};S.Tc=function(a,b,c){S.Ec(a,b,c,1)};S.Ec=function(a,b,c,d){S.Dc(a,b,new vd(c,d))};var wd;function T(){this.Ga=[];this.mc=[];this.Rb={};this.ve=m;this.m=1;this.Ab=xd;this.I=0}y(T,ec);n=T.prototype;n.scope="";n.H=function(a){this.m=a;return this};n.play=function(){this.yd=0;this.gd=this.I=1;S.Dc(this.Wa,this);this.dispatchEvent({type:"start"})};n.stop=function(){if(this.I!=0){var a=this.mc;if(yd(this)&&this.la)for(var b=a.length;--b>=0;)this.la(a[b]);this.mc=[];this.Rb={};this.I=0;S.vb(this.Wa,this);this.dispatchEvent({type:"stop"})}};n.mb=function(){return{}};
function zd(a,b){var c=x(b);if(!u(a.Rb[c])){a.jb(b);a.Rb[c]=a.mb(b)}return a.Rb[c]}n.jb=function(a){Ad.Mb(this,a);this.I=1;Pa(this.mc,a);this.Qb&&!this.Bd&&this.cb&&this.cb()};n.L=function(){return this.Ga[0]?this.Ga[0].L():l};n.Wa=function(a){this.Qb&&!this.Bd&&this.cb&&this.cb();if(this.gd){delete this.gd;a=1}this.yd+=a;this.te=a;a=this.yd/(this.m*1E3);if(isNaN(a)||a>=1)a=1;a=this.ua(a,this.Ga);a==1&&this.stop()};
n.ua=function(a,b){a=this.Ab[0](a);if(isNaN(a))a=1;for(var c=b.length;--c>=0;)this.update(a,b[c]);return a};function yd(a){return a.m>0&&Pc&&a.ce&&!hc&&!gb}function Bd(a){a.ce=u(void 0)?void 0:h;return a}var Ad=new function(){this.h={}};Ad.Mb=function(a,b){if(a.scope.length){var c=x(b);u(this.h[c])||(this.h[c]={});u(this.h[c][a.scope])&&this.h[c][a.scope].stop();this.h[c][a.scope]=a}};Ad.Be=function(a){a=x(a);if(u(this.h[a]))for(var b in this.h[a]){this.h[a][b].stop();delete this.h[a][b]}};
(function(){function a(j,k){var o,q,p,r;p=j;for(q=0;q<8;q++){r=((b*p+c)*p+d)*p-j;if((r>=0?r:0-r)<k)return p;o=(3*b*p+2*c)*p+d;if((o>=0?o:0-o)<1.0E-6)break;p-=r/o}o=0;q=1;p=j;if(p<o)return o;if(p>q)return q;for(;o<q;){r=((b*p+c)*p+d)*p;if((r-j>=0?r-j:0-(r-j))<k)break;if(j>r)o=p;else q=p;p=(q-o)*0.5+o}return p}var b=0,c=0,d=0,e=0,f=0,g=0;wd=function(j,k,o,q){return[function(p){d=3*j;c=3*(o-j)-d;b=1-d-c;g=3*k;f=3*(q-k)-g;e=1-g-f;return((e*a(p,5.0E-5)+f)*a(p,5.0E-5)+g)*a(p,5.0E-5)},j,k,o,q]}})();
var xd=wd(0.42,0,0.58,1);var Cd={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Dd(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(Ed.test(c)){b.kc=Fd(c);b.type="hex";return b}else{a:{var d=a.match(Gd);if(d){c=Number(d[1]);var e=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&e>=0&&e<=255&&d>=0&&d<=255){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||e<0||e>255||isNaN(a)||a<0||a>255||isNaN(c)||c<0||c>255)throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=Hd(e.toString(16));a=Hd(a.toString(16));
c=Hd(c.toString(16));b.kc="#"+e+a+c;b.type="rgb";return b}else if(Cd)if(c=Cd[a.toLowerCase()]){b.kc=c;b.type="named";return b}}throw Error(a+" is not a valid color string");}var Id=/#(.)(.)(.)/;function Fd(a){if(!Ed.test(a))throw Error("'"+a+"' is not a valid hex color");if(a.length==4)a=a.replace(Id,"#$1$1$2$2$3$3");return a.toLowerCase()}function Jd(a,b,c){if(c<0)c+=1;else if(c>1)c-=1;if(6*c<1)return a+(b-a)*6*c;else if(2*c<1)return b;else if(3*c<2)return a+(b-a)*(2/3-c)*6;return a}
var Ed=/^#(?:[0-9a-f]{3}){1,2}$/i,Gd=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;function Hd(a){return a.length==1?"0"+a:a};function Kd(){}y(Kd,ec);Kd.prototype.lc=t;function Ld(a){if(a[0]instanceof Kd)return a[0];v(a)||(a=Ta(arguments));if(a.length>2)return new Md(a);else if(w(a[0])&&(a[0].substring(0,4)=="rgb("||a[0].substring(0,5)=="rgba("||a[0].substring(0,1)=="#"))return new Md(a[0]);return new Nd(a[0])}Kd.prototype.sb=t;Kd.prototype.rb=t;function Md(a){this.va=1;this.Ta(a)}y(Md,Kd);n=Md.prototype;n.id="color";function Od(a,b){return Pd(a,2,b)}
function Pd(a,b,c){c=c||0.1;var d,e=l;if(ca(a.q)&&ca(a.Ma)&&ca(a.Ka))e=[a.q,a.Ma,a.Ka,a.va];else if(w(a.ha)){var f=Dd(a.ha);if(f.type!="named"){e=f.kc;e=Fd(e);e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}e.push(1)}d=e;if(!d)return a;d.pop();e=d[0]/255;f=d[1]/255;d=d[2]/255;var g=Math.max(e,f,d),j=Math.min(e,f,d),k=0,o=0,q=0.5*(g+j);if(g!=j){if(g==e)k=60*(f-d)/(g-j);else if(g==f)k=60*(d-e)/(g-j)+120;else if(g==d)k=60*(e-f)/(g-j)+240;o=0<q&&q<=0.5?(g-j)/(2*q):
(g-j)/(2-2*q)}d=[Math.round(k+360)%360,o,q];d[b]+=c;if(d[b]>1)d[b]=1;b=d[1];c=d[2];g=f=e=0;d=d[0]/360;if(b==0)e=f=g=c*255;else{j=g=0;j=c<0.5?c*(1+b):c+b-b*c;g=2*c-j;e=255*Jd(g,j,d+1/3);f=255*Jd(g,j,d);g=255*Jd(g,j,d-1/3)}d=[Math.round(e),Math.round(f),Math.round(g)];d.push(a.va);return a.Ta(d)}
n.Ta=function(a){var b=a;if(w(a)){this.ha=a;return this}if(arguments.length>2)b=arguments;if(b.length>=3){this.q=b[0];this.Ma=b[1];this.Ka=b[2]}if(b.length==4)this.va=b[3];this.ha=this.va==1?"rgb("+this.q+","+this.Ma+","+this.Ka+")":"rgba("+this.q+","+this.Ma+","+this.Ka+","+this.va+")";return this};n.sb=function(a){a.style.background=this.ha};n.rb=function(a){a.fillStyle=this.ha};n.d=function(){var a=new Md("");a.q=this.q;a.Ma=this.Ma;a.Ka=this.Ka;a.va=this.va;a.ha=this.ha;return a};function Nd(a){if(a&&da(a.data))a=a.data();if(w(a)){this.W=a;if(this.W.length>50)this.W=this.W.substr(-50);if(Qd[this.W])this.F=Qd[this.W];else{this.F=new Image;this.F.src=a}}else{this.W=a.src;if(this.W.length>50)this.W=this.W.substr(-50);this.F=Qd[this.W]?Qd[this.W]:a}Rd(this)||O(this.F,"load",this.Ud,m,this);Qd[this.W]=this.F}y(Nd,Kd);var Qd={};n=Nd.prototype;n.id="image";
n.lc=function(a){var b=a.f(),c=this;if(!b.width&&!b.height)Rd(this)?a.c(this.F.width,this.F.height):O(this,"load",function(){var d=this.f();!d.width&&!d.height&&this.c(c.F.width,c.F.height)},m,a);Rd(this)||O(this,"load",function(){Q(a,4)},m,this)};n.Ud=function(a){this.dispatchEvent(a)};function Rd(a){return a.F&&a.F.width&&a.F.height}n.c=function(a,b,c){if(ca(a)){a=new A(a,b);b=c||m}this.t=a;this.je=b;return this};
function Sd(a,b){var c=b.f().d();if(a.t)if(a.je){c.width*=a.t.width;c.height*=a.t.height}else c=a.t;var d=new z(0,0);if(a.vc)if(a.we){d.x=c.width*a.vc.x;d.y=c.height*a.vc.y}else d=a.vc;return[c,d]}n.sb=function(a,b){a.style.background="url("+this.F.src+")";var c=Sd(this,b),d=c[0];c=c[1];var e=nd(b);a.style[Oc("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.O?b.O.Ub:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";if(this.Ac)a.style.imageRendering="optimizeQuality"};
n.rb=function(a,b){var c=b.f(),d=F(b);if(c.width&&c.height)try{var e=this.F,f=Sd(this,b),g=f[0],j=f[1],k=a.createPattern(e,"repeat"),o=g.width/e.width,q=g.height/e.height;a.save();a.translate(d.left+j.x,d.top+j.y);a.scale(o,q);a.fillStyle=k;a.fillRect(-j.x/o,-j.y/q,c.width/o,c.height/q);a.restore()}catch(p){}};C.w={};H.w={};function U(){P.call(this);this.O=this.hb=l}y(U,P);U.prototype.id="sprite";U.prototype.Ea=[ua(H,H.w),ua(C,C.w)];U.prototype.o=function(){this.hb=Ld(Ta(arguments));this.hb.lc(this);Q(this,4);return this};H.w.u=function(a){this.hb===l||this.hb.sb(a,this);if(this.O===l)a.style.border="none";else this.O.sb(a,this)};
C.w.u=function(a){var b=this.f(),c=this.hb,d=this.O;if(c||d){var e=F(this);if(c){c.rb(a,this);c.id!="image"&&c.id!="frame"&&a.fillRect(e.left,e.top,b.width,b.height)}if(d){d.rb(a,this);if(this.id=="sprite"||this.id=="label"){c=d.Ub/2;a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}}}};function Td(){T.call(this)}y(Td,T);Td.prototype.update=t;function Ud(a){T.call(this);var b=Ta(arguments);if(v(a))b=a;this.h=b.length>2?[b.shift(),new Ud(b)]:b;this.H(this.h[0].m+this.h[1].m)}y(Ud,T);Ud.prototype.jb=function(a){T.prototype.jb.call(this,a);this.H(this.h[0].m+this.h[1].m);this.Va=this.h[0].m/this.m;this.pa=-1};Ud.prototype.stop=function(){this.pa!=-1&&this.h[this.pa].stop(this.Ga);T.prototype.stop.apply(this,arguments)};
Ud.prototype.ua=function(a,b){if(this.I==0)return a;for(var c=b.length;--c>=0;)zd(this,b[c]);var d=c=0;if(a>=this.Va){c=1;d=this.Va==1?1:(a-this.Va)/(1-this.Va)}else{c=0;d=this.Va!=0?a/this.Va:1}if(this.pa==-1&&c==1){this.h[0].I=1;this.h[0].ua(1,b);this.h[0].stop()}if(this.pa!=c){if(this.pa!=-1){this.h[this.pa].ua(1,b);this.h[this.pa].stop()}this.h[c].I=1}this.h[c].ua(d,b);this.pa=c;return a};function Vd(a){T.call(this);var b=Ta(arguments);if(v(a))b=a;if(b.length>2){this.Oa=b.shift();this.Za=new Vd(b)}else{this.Oa=b[0];this.Za=b[1]}b=this.Oa.m;var c=this.Za.m;this.H(Math.max(b,c));var d=new Td;if(b>c)this.Za=new Ud(this.Za,d.H(b-c));else if(b<c)this.Oa=new Ud(this.Oa,d.H(c-b))}y(Vd,T);Vd.prototype.jb=function(a){T.prototype.jb.call(this,a);this.Oa.I=1;this.Za.I=1};Vd.prototype.ua=function(a,b){if(this.I!=0){for(var c=b.length;--c>=0;)zd(this,b[c]);this.Oa.ua(a,b);this.Za.ua(a,b);return a}};C.Wb={};H.Wb={};H.Wb.u=function(a){var b=this.f();H.w.u.call(this,a);Tc(a,b.width*0.5,b.height*0.5)};C.Wb.u=function(a){this.f();var b=this.aa,c=F(this),d=(c.right-c.left)*0.5;c=(c.bottom-c.top)*0.5;a.save();a.save();a.scale(d,c);a.translate(1-2*b.x,1-2*b.y);a.beginPath();a.arc(0,0,1,0,2*Math.PI,m);a.closePath();a.restore();a.clip();C.w.u.call(this,a);if(this.O){a.lineWidth*=2;a.stroke()}a.restore()};var Wd,Xd;function Yd(){U.call(this);this.bc=new U;this.appendChild(this.bc);this.Nb=m;this.index=-1;this.Ac=h}y(Yd,U);var Zd=["#F00","#F90","#0C0","#0CC","#00C","#96F"];Yd.prototype.select=function(){if(!this.Nb){var a=this.f().d();this.ld=(new U).c(a).o("assets/selection.png");this.appendChild(this.ld,0);this.Nb=h}};function $d(a){if(a.Nb){a.removeChild(a.ld);a.Nb=m}}Yd.prototype.update=function(){var a=this.f();this.bc.c(a.width*0.75,a.height*0.75);P.prototype.update.call(this)};function W(a){T.call(this);this.B=a}y(W,T);W.prototype.scope="fade";W.prototype.mb=function(a){var b=a.B;if(yd(this)){a.ta[Uc]=[this.B,this.m,this.Ab,0];Q(a,Vc)}return{le:b,z:this.B-b}};W.prototype.update=function(a,b){if(this.I!=0){var c=zd(this,b);pd(b,c.le+c.z*a)}};W.prototype.la=function(a){if(yd(this)){a.la(Uc);Q(a,Vc)}};function ae(a){T.call(this);this.r=arguments.length==1&&ca(a)?new J(a,a):arguments.length==2?new J(arguments[0],arguments[1]):a}y(ae,T);ae.prototype.scope="scale";ae.prototype.mb=function(a){var b=a.r,c=new J(this.r.x-b.x,this.r.y-b.y);if(yd(this)){a.ta[E]=[new J(b.x+c.x,b.y+c.y),this.m,this.Ab,0];Q(a,2)}return{Cd:b,z:c}};ae.prototype.update=function(a,b){if(this.I!=0){var c=zd(this,b);b.Ua(c.Cd.x+c.z.x*a,c.Cd.y+c.z.y*a)}};ae.prototype.la=function(a){if(yd(this)){a.la(E);Q(a,2)}};function be(a){T.call(this);this.eb=arguments.length==2?new z(arguments[0],arguments[1]):a}y(be,T);n=be.prototype;n.scope="move";function ce(a){a.Qb=0.3;a.cb();return a}n.mb=function(a){if(yd(this)){a.ta[G]=[new z(a.k.x+this.eb.x,a.k.y+this.eb.y),this.m,this.Ab,0];Q(a,Zc)}return{Ed:a.k}};n.cb=function(){if(this.Qb){var a=this.eb,b=new z(0,0),c=a.x-b.x;a=a.y-b.y;this.H(this.Qb*Math.sqrt(c*c+a*a)/100);this.Bd=1}};
n.update=function(a,b){if(this.I!=0){var c=zd(this,b);b.b(c.Ed.x+this.eb.x*a,c.Ed.y+this.eb.y*a)}};n.la=function(a){if(yd(this)){a.la(G);Q(a,Zc)}};function de(){this.pb={};this.ae=0}function ee(a,b,c){var d=c.x+"_"+c.y;u(a.pb[d])||(a.pb[d]=[]);a.pb[d].push([b,c]);a.ae++}
de.prototype.play=function(a){var b,c,d=0,e;for(e in this.pb){var f=this.pb[e];b=Bd(ce(new be(f[0][1])));if(d<b.m){c=b;d=b.m}if(!a&&f.length>15){for(var g=dd(new R,C),j=f[0][0].getParent().getParent(),k=0;k<f.length;k++){var o=f[k][0];o.getParent().removeChild(o);g.appendChild(f[k][0])}j.appendChild(g);O(b,"stop",function(){this.getParent().removeChild(this);for(var q=this.k,p=this.e.length-1;p>=0;){var r=this.e[p];this.removeChild(r);dd(r,H);j.Fb[r.J].appendChild(r);r.b(new z(q.x+r.k.x,q.y+r.k.y));
p--}},m,g);ud(g,b)}else{for(k=0;k<f.length;k++)Pa(b.Ga,f[k][0]);b.play()}}return c};function fe(a,b,c){U.call(this);this.ic=c;this.bb=690;this.rows=a;this.cols=b;this.K=Array(b);this.c(this.bb,this.bb).N(0,0);this.sd=(new U).c(this.bb,this.bb).o(100,0,0,0.1).N(0,0);this.appendChild(this.sd);cd(this,this.sd);this.Q=Math.round(this.bb/b);this.Fb=[];for(a=0;a<b;a++){this.Fb[a]=new R;this.appendChild(this.Fb[a])}ge(this);S.Tc(this.uc,this,700);O(this,["mousedown","touchstart"],this.zc)}y(fe,U);
function ge(a){for(var b=0;b<a.cols;b++){a.K[b]||(a.K[b]=[]);for(var c=0,d=a.K[b].length;d<a.rows;d++){c++;var e;e=Math.floor(Math.random()*Zd.length);var f=new Yd;f.index=e;f.bc.o("assets/ball_"+e+".png");e=f;e.q=d;e.J=b;e.b((b+0.5)*a.Q,(-c+0.5)*a.Q);e.c(a.Q,a.Q);a.K[b].push(e);a.Fb[b].appendChild(e)}}}
fe.prototype.uc=function(a){var b,c,d=new de;this.kb=1;for(var e=0;e<this.cols;e++)for(var f=0;f<this.rows;f++){b=this.K[e][f];b.q=f;b.J=e;c=new z((e+0.5)*this.Q,this.f().height-(f+0.5)*this.Q);qa(c,b.k)||ee(d,b,new z(c.x-b.k.x,c.y-b.k.y))}if(a=d.play(a))O(a,"stop",function(){this.kb=0;he(this)},m,this);else this.kb=0;return a||m};
function he(a){var b=ie(a);if(b.length){je(a.ic);var c=Bd(new Vd(new ae(0),(new W(0)).H(0.8)));Wa(b);for(var d=[],e=0;e<b.length;e++){Pa(c.Ga,b[e]);Qa(a.K[b[e].J],b[e]);Pa(d,b[e].index)}ke(a.ic,b.length*d.length);O(c,"stop",function(){Ma(b,function(f){f.g.removeChild(f)},this);this.kb=0;this.uc()},m,a);ge(a);a.kb=1;c.play()}else le(a)}
function ie(a){var b,c,d,e,f=[];for(b=0;b<a.rows;b++){i=-1;e=[];for(c=0;c<a.cols;c++){d=a.K[c][b];d.index==i&&e.push(d);if(d.index!=i||c==a.cols-1){e.length>=3&&ka(Ua,f,void 0,0).apply(l,e);e=[d]}i=d.index}}for(c=0;c<a.cols;c++){i=-1;e=[];for(b=0;b<a.rows;b++){d=a.K[c][b];d.index==i&&e.push(d);if(d.index!=i||b==a.rows-1){e.length>=3&&ka(Ua,f,void 0,0).apply(l,e);e=[d]}i=d.index}}return f}
fe.prototype.zc=function(a){if(!this.kb){var b=a.position,c=Math.floor(b.x/this.Q);b=this.rows-Math.ceil(b.y/this.Q);if(a.type=="mousedown"||a.type=="touchstart")a.Ya(["mouseup","touchend"],fe.prototype.zc);a=this.K[c][b];if(a!=this.Z){a.select();if(this.Z)if(this.Z.q==a.q&&Math.abs(this.Z.J-a.J)==1||this.Z.J==a.J&&Math.abs(this.Z.q-a.q)==1){me(this,this.Z,a);delete this.Z}else{$d(this.Z);this.Z=a}else this.Z=a}}};
function me(a,b,c,d){ne(a,b,c);var e=a.uc(h);if(!d&&!ie(a).length)O(e,"stop",function(){me(this,b,c,h)},m,a);else{$d(b);$d(c)}delete a.Z}function ne(a,b,c){var d=b.J,e=b.q;b.J=c.J;b.q=c.q;c.J=d;c.q=e;a.K[b.J][b.q]=b;a.K[c.J][c.q]=c}fe.prototype.Pb=function(){this.Na&&ud(this.Na,new Ud((new ae(1.3)).H(0.4),(new ae(1)).H(0.4)))};
function le(a){for(var b,c=0,d=0;d<a.cols;d++)for(var e=a.rows-1;e>=0;e--)for(var f=a.K[d][e],g=0;g<2;g++){var j=d,k=e;if(g==0)j++;else k--;if(!(j>=a.cols||k<0)){j=a.K[j][k];ne(a,f,j);k=ie(a).length;if(k>c){c=k;b=f}ne(a,f,j)}}a.Na=b;b=a.ic;a=a.Na;b.Na=a;u(a)?S.Tc(b.Pb,b,3500):oe(b)};C.ab={};H.ab={};function X(){U.call(this);pe(this,5)}y(X,U);X.prototype.id="roundedrect";X.prototype.Ea=[ua(H.w,H.ab),ua(C.w,C.ab)];function pe(a,b){a.Ce=m;a.Bc=b;return a}H.ab.u=function(a){this.f();H.w.u.call(this,a);Tc(a,[this.Bc*this.Qa,this.Bc*this.Qa])};
C.ab.u=function(a){this.f();var b=F(this),c=this.Bc,d=b.left,e=b.top,f=b.right-b.left;b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();C.w.u.call(this,a);if(this.O){a.lineWidth*=2;a.stroke()}a.restore()};function qe(a,b){R.call(this);this.gb="lime-button";if(u(a)){this.P=a;this.appendChild(this.P);this.ub=-1;re(this,se)}u(b)&&te(this,b);var c=this;O(this,["mousedown","touchstart","touchmove"],function(d){re(c,ue);d.Ya("mousemove",function(e){c.Aa(e)?re(c,ue):re(c,se)});d.Ya("touchmove",function(e){if(!c.Aa(e)){re(c,se);e.ob()}});d.Ya(["mouseup","touchend"],function(e){c.Aa(e)&&c.dispatchEvent({type:ve});re(this,se)})})}y(qe,R);var se=0,ue=1,ve="click";
function te(a,b){a.ja=b;a.appendChild(b);a.ub=-1;re(a,se)}function re(a,b){if(b!=a.ub){a.ub==se&&b==ue&&a.dispatchEvent({type:"down"});a.ub==ue&&b==se&&a.dispatchEvent({type:"up"});var c=a.P;if(u(a.ja))if(ue==b)c=a.ja;else ld(a.ja,h);c!=a.P&&ld(a.P,h);ld(c,m);a.ub=b}};C.$a={};H.$a={};function Y(a){U.call(this);this.p(a);we(this,xe);Z(this,14);$(this,"#000");ye(this,"center");ze(this,"400");a=[0,0,0,0];if(u(void 0))a[1]=a[3]=void 0;if(u(void 0))a[2]=void 0;if(u(void 0))a[3]=void 0;this.G=a;Q(this,8);this.Wd=m;this.pd=1.15;this.ie(l);this.o(255,255,255,0)}y(Y,U);Y.prototype.id="label";var xe="Arial";Y.prototype.Ea=[ua(H.w,H.$a),ua(C.w,C.$a)];
(function(){var a;Y.prototype.measureText=function(){u(a)||(a=document.createElement("canvas").getContext("2d"));var b=Ae(this)*this.ya;a.font=this.ya+"px "+this.hc;var c=a.measureText(this.sa);c=L?c.width:c.width+1;if(gc)c+=1;var d=this.O?this.O.Ub:0;return new A(this.G[1]+this.G[3]+c+d*2,this.G[0]+this.G[2]+b+d*2)}})();n=Y.prototype;n.f=function(){var a=P.prototype.f.call(this);if(!a||!a.width&&!a.height)return this.measureText();return a};n.p=function(a){this.sa=a+"";Q(this,4);delete this.Ic;return this};
function ze(a,b){a.jd=b;Q(a,8);return a}function we(a,b){a.hc=b;Q(a,8);return a}function Z(a,b){a.ya=b;Q(a,8);return a}function $(a,b){a.hd=b;Q(a,8);return a}function Ae(a){var b=Math.abs(a.T.y)+a.$*2;return a.Wd?(a.pd+b)/a.ya:a.pd+b/a.ya}function ye(a,b){a.Mc=b;Q(a,8);return a}
n.ie=function(a,b,c,d){if(arguments.length==1&&a===l){this.tb="#ccc";this.$=0;this.Ob(0,0)}else if(arguments.length==2){this.tb=a;this.$=b;this.Ob(new J(0,0))}else if(arguments.length==3){this.tb=a;this.$=b;this.Ob(c)}else{this.tb=a;this.$=b;this.Ob(c,d)}Q(this,8)};n.Ob=function(a){this.T=arguments.length==2?new J(arguments[0],arguments[1]):a;Q(this,8)};n.update=function(){this.A&4&&delete this.od;P.prototype.update.apply(this,arguments)};
H.$a.u=function(a){H.w.u.call(this,a);var b=a.style;this.A&4&&Ec(a,this.sa);if(this.A&8){b.lineHeight=Ae(this);b.padding=Oa(this.G,function(c){return c*nd(this)},this).join("px ")+"px";b.color=this.hd;b.fontFamily=this.hc;b.fontSize=this.ya*nd(this)+"px";b.fontWeight=this.jd;b.textAlign=this.Mc;b.textShadow=this.$||this.T.x||this.T.y?this.tb+" "+this.T.x+"px "+this.T.y+"px "+this.$+"px":""}};
C.$a.u=function(a){C.w.u.call(this,a);var b=F(this),c=-b.left-this.G[3]+b.right-this.G[1]+Math.abs(this.T.x)+Math.abs(this.$*2),d=0;if(!this.Ic){d=[];var e=this.sa.length,f=this.sa.match(gb?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var j=0;j<f.length;j++){var k=f[j];k=this.sa.indexOf(k,g)+k.length;d.push(this.sa.substring(g,k));g=k}g!=e&&d.push(this.sa.substring(g,e));this.Ic=d;d=1}f=this.O?this.O.Ub:0;a.save();e=this.Mc;if(e=="left")a.translate(b.left+this.G[3]+f,b.top+this.G[0]+f);else if(e=="right")a.translate(b.right-
this.G[1]-f,b.top+this.G[0]+f);else e=="center"&&a.translate((b.left+this.G[3]+b.right-this.G[1])*0.5,b.top+this.G[0]+f);b=Ae(this);a.fillStyle=this.hd;a.font=this.jd+" "+this.ya+"px/"+b+" "+this.hc;a.textAlign=e;a.textBaseline="top";if(this.$||this.T.x||this.T.y){a.shadowColor=this.tb;a.shadowOffsetX=this.T.x;a.shadowOffsetY=this.T.y;a.shadowBlur=this.$}if(d||c!=this.od){d=[];e="";f=this.Ic;for(j=0;j<f.length;j++)if(e=="")e=f[j];else{g=a.measureText(Ca(e+f[j]));if(g.width>c){d.push(Ca(e));e=f[j]}else e+=
f[j]}d.push(e);this.pc=d;this.od=c}if(this.pc){c=b*this.ya;b=(u(this.$)?Math.abs(this.$):0)+(u(this.T)?Math.abs(this.T.y)/2:0);c=L?Math.floor(c):Math.round(c);for(d=0;d<this.pc.length;d++)a.fillText(this.pc[d],0,c*d+b-0.5)}a.restore()};function Be(){this.db=[];Ce(this)}y(Be,Kd);n=Be.prototype;n.id="lineargradient";n.lc=function(a){if(fb||K)dd(a,C)};function Ce(a){a.s=[0,0,0,1];return a}n.addColorStop=function(a){var b=Ta(arguments);b.shift();this.db.push([a,Ld(b)]);return this};n.Od=function(a){return L?"color-stop("+a[0]+", "+a[1].ha+")":a[1].ha+" "+a[0]*100*this.fe+"%"};
n.sb=function(a,b){var c,d=F(b);c=d.right-d.left;var e=d.bottom-d.top;if(!L){var f=(this.s[2]-this.s[0])*c,g=(this.s[1]-this.s[3])*e,j=d.left+c*this.s[0],k=d.top+e*this.s[1],o=Math.atan2(g,f),q=-g/f;if(q==Infinity)q=Math.pow(10,10);d=o>0&&o<Math.PI/2?[d.right,d.top]:o>0?[d.left,d.top]:o>-Math.PI/2?[d.right,d.bottom]:[d.left,d.bottom];d=(d[1]+1/q*d[0]-k+q*j)/(q+1/q);q=q*d+k-j*q;d-=j;q-=k;this.fe=Math.sqrt((f*f+g*g)/(d*d+q*q))}f=Oa(this.db,this.Od,this);c=L?"-webkit-gradient(linear,"+this.s[0]*100+
"% "+this.s[1]*100+"%,"+this.s[2]*100+"% "+this.s[3]*100+"%,"+f.join(",")+")":"linear-gradient("+this.s[0]*100+"% "+this.s[1]*100+"% "+Math.atan2((this.s[1]-this.s[3])*e,(this.s[2]-this.s[0])*c)+"rad,"+f.join(",")+")";if(gb)c="-moz-"+c;a.style.background=c};n.rb=function(a,b){var c=this.s,d=F(b),e=d.right-d.left,f=d.bottom-d.top;c=a.createLinearGradient(d.left+e*c[0],d.top+f*c[1],d.left+e*c[2],d.top+f*c[3]);for(d=0;d<this.db.length;d++)c.addColorStop(this.db[d][0],this.db[d][1].ha);a.fillStyle=c};function De(a){qe.call(this,this.tc(a),this.tc(a));this.borderWidth=2;this.p(a);this.Ta("#62be00")}y(De,qe);n=De.prototype;n.tc=function(a){var b=new X;b.X=new X;b.label=Z($(we(ye(new Y(a),"center"),'"Trebuchet MS"'),"#010101"),17);b.appendChild(b.X);b.X.appendChild(b.label);return b};
n.Ta=function(a){a=Ld(a);Ma([this.P,this.ja],function(b){var c;if(b==this.ja){c=a.d();c=Pd(c,1,-0.2)}else c=a;b.o(c);var d=Ce(new Be);d.addColorStop(0,Od(c.d(),0.13));d.addColorStop(0.5,Od(c.d(),0.05));d.addColorStop(0.52,c);d.addColorStop(1,c);b.X.o(d)},this);return this};n.p=function(a){this.P.label.p(a);this.ja.label.p(a);return this};
n.c=function(){if(this.P){this.P.c.apply(this.P,arguments);var a=this.P.f();Ma([this.P,this.ja],function(b){b.c(a);var c=a.d();c.width-=this.borderWidth;c.height-=this.borderWidth;b.X.c(c)},this)}return this};n.f=function(){return this.P.f()};function Ee(a){De.call(this,a);this.borderWidth=4;this.Ta("#000")}y(Ee,De);Ee.prototype.tc=function(){var a=pe((new X).o("#fff"),10);a.X=pe(new X,10);a.label=Z($(we(ye(new Y,"center"),'"Trebuchet MS"'),"#eef"),28);a.appendChild(a.X);a.X.appendChild(a.label);return a};Ee.prototype.Ta=function(a){a=Ld(a);Ma([this.P,this.ja],function(b){var c=b==this.ja?Od(a.d(),0.1):a,d=Od(c.d(),0.3),e=Ce(new Be);e.addColorStop(0,d);e.addColorStop(0.45,c);e.addColorStop(0.55,c);e.addColorStop(1,d);b.X.o(e)},this);return this};function D(){P.call(this);this.N(0,0);this.gb="lime-scene";fd(this)}y(D,P);D.prototype.Bb=function(){return this};D.prototype.Jb=function(){return F(this)};function Fe(){D.call(this);var a=(new Ee("Back")).b(360,870).c(300,90);O(a,"click",function(){Ge()});this.appendChild(a);a=pe(new X,30).o("#fff").c(700,560).b(360,420);this.appendChild(a);var b=(new U).o("assets/helper1.jpg").b(-160,30).Ua(0.9);a.appendChild(b);b=(new U).o("assets/helper2.jpg").b(160,30).Ua(0.9);a.appendChild(b);b=ye(Z(new Y,18).c(280,100).b(-160,-170),"left");b.p("Switch two neighbour balls to match up three, four or five same colored balls in a row.  Doing so will clear them and give you points.");
a.appendChild(b);b=ye(Z(new Y,18).c(280,100).b(160,-170),"left");b.p("You get extra points for making more than one match at once.");a.appendChild(b);b=ye(Z(new Y,18).c(550,40).b(0,220),"center");b.p("When there are no possible moves on the screen, the game ends.");a.appendChild(b)}y(Fe,D);function He(a){T.call(this);this.t=arguments.length==2?new A(arguments[0],arguments[1]):a}y(He,T);He.prototype.scope="size";He.prototype.mb=function(a){a=a.f();return{Dd:a,z:new J(this.t.width-a.width,this.t.height-a.height)}};He.prototype.update=function(a,b){if(this.I!=0){var c=zd(this,b);b.c(c.Dd.width+c.z.x*a,c.Dd.height+c.z.y*a)}};function Ie(){X.call(this);var a=320,b=50;pe(this.c(a,b),20).N(0,0.5);this.o((new Be).addColorStop(0,21,55,98,0.6).addColorStop(1,30,87,151,0.4));a-=16;b-=16;b=pe(new X,12).c(a,b).o("#F90").N(0,0.5).b(8,0);this.appendChild(b);b.o((new Be).addColorStop(0,"#afcdef").addColorStop(0.49,"#55a1fc").addColorStop(0.5,"#3690f4").addColorStop(1,"#8dc9ff"));this.width=a;this.X=b}y(Ie,X);function Je(a,b){a.ye=b;ud(a.X,(new He(a.width*b,a.X.f().height)).H(0.4))};function Ke(a){D.call(this);this.yc=0;var b=new R;this.appendChild(b);this.R=(new fe(a,a,this)).b(25,174);/Chrome\/9\.0\.597/.test(cb())&&dd(this.R,C);a=pe((new X).c(690,690).N(0,0).b(17,166),30);for(var c=0;c<this.R.cols;c++)for(var d=0;d<this.R.rows;d++){var e=(new U).o("assets/shadow.png").N(0,0).c(this.R.Q*0.94,this.R.Q*0.94).b(11+c*this.R.Q,11+d*this.R.Q);e.Ac=h;a.appendChild(e)}b.appendChild(a);b.appendChild(this.R);a=(new U).c(670,2).o("#295081").b(360,148);b.appendChild(a);a=(new U).c(670,
2).o("#295081").b(360,885);b.appendChild(a);a=ze(Z($(we(new Y,"Trebuchet MS"),"#4f96ed"),24).b(30,22).p("Score:").N(0,0),700);b.appendChild(a);this.Fc=ze(Z($(new Y,"#fff"),92).p(0).b(30,40).N(0,0),700);b.appendChild(this.Fc);this.Rc=(new Ee("Menu")).c(140,70).b(100,945);O(this.Rc,"click",function(){Ge()});this.appendChild(this.Rc);this.xb=pd((new Ee("Hint")).c(140,70).b(640,945),0);O(this.xb,"click",function(){this.Na&&this.R.Pb()},m,this);this.appendChild(this.xb);this.ma=this.Ib=30;if(Wd==Le){this.ne=
ye(ze(Z($(we(new Y,"Trebuchet MS"),"#4f96ed"),24).b(680,22).p("Time left:").N(1,0),700).c(300,30),"right");b.appendChild(this.ne);this.Sb=(new Ie).b(356,90);b.appendChild(this.Sb);S.Ec(this.$c,this,1E3)}S.Ec(this.Fd,this,100);Me(this)}y(Ke,D);Ke.prototype.$c=function(){this.ma--;this.ma<1&&oe(this);Je(this.Sb,this.ma/this.Ib)};Ke.prototype.Fd=function(){var a=parseInt(this.Fc.sa,10);a<this.yc&&this.Fc.p(a+1)};function je(a){S.vb(a.Pb,a);ud(a.xb,new W(0));delete a.Na}
Ke.prototype.Pb=function(){ud(this.xb,new W(1))};function ke(a,b){a.yc+=b;a.ma+=b;if(a.ma>a.Ib)a.ma=a.Ib;a.Sb&&Je(a.Sb,a.ma/a.Ib)}
function oe(a){Zb(a.R,["mousedown","touchstart"],a.R.zc);S.vb(a.Fd,a);S.vb(a.$c,a);var b=pe((new X).o(0,0,0,0.7).c(500,480).b(360,260).N(0.5,0),20);a.appendChild(b);var c=Z($((new Y).p(a.ma<1?"No more time!":"No more moves!"),"#ddd"),40).b(0,70);b.appendChild(c);c=$(Z((new Y).p("Your score:"),24),"#ccc").b(0,145);b.appendChild(c);c=ze($(Z((new Y).p(a.yc),150),"#fff").b(0,240),700);b.appendChild(c);c=(new Ee).p("TRY AGAIN").c(200,90).b(-110,400);b.appendChild(c);O(c,ve,function(){Ne(this.R.cols)},
m,a);c=(new Ee).p("MAIN MENU").c(200,90).b(110,400);b.appendChild(c);O(c,ve,function(){Ge()})};function Oe(){D.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}y(Oe,D);function Pe(a){this.fb=a;this.identifier=0}Pe.prototype.Ya=function(a,b,c){a=v(a)?a:[a];for(var d=0;d<a.length;d++)this.fb.Ya(this,a[d],b);c&&this.event.stopPropagation()};Pe.prototype.ob=function(a){var b=u(a),c=v(a)?a:[a];if(a=this.fb.ra[this.identifier]){var d=this;a=Na(a,function(e){if(!u(d.Fa)||e[0]==d.Fa&&(!b||La(c,e[1])>=0)){Zb(e[0],e[1],e[2]);return m}return h});if(a.length)this.fb.ra[this.identifier]=a;else delete this.fb.ra[this.identifier]}};
Pe.prototype.d=function(){var a=new Pe(this.fb);va(a,this);return a};function Qe(a){this.xa=a;this.M={};this.ra={}}Qe.prototype.Mb=function(a,b){if(u(this.M[b])){if(!(La(this.M[b],a)>=0)){this.M[b].push(a);this.M[b].sort(id)}}else{this.M[b]=[a];O(b.substring(0,5)=="touch"&&a!=this.xa?document:b.substring(0,3)=="key"?window:this.xa.a.parentNode,b,this,m,this)}};Qe.prototype.ob=function(a,b){if(u(this.M[b])){Qa(this.M[b],a);if(!this.M[b].length){Zb(this.xa.a.parentNode,b,this,m,this);delete this.M[b]}}};
function sd(a,b){for(var c in a.M){var d=a.M[c];La(d,b)>=0&&d.sort(id)}}Qe.prototype.Ya=function(a,b,c){var d=a.identifier;u(this.ra[d])||(this.ra[d]=[]);this.ra[d].push([a.Fa,b,c]);O(a.Fa,b,t)};
Qe.prototype.handleEvent=function(a){if(u(this.M[a.type])){for(var b=this.M[a.type].slice(),c=m,d=0,e=0;!e;){var f=new Pe(this);f.type=a.type;f.event=a;if(a.type.substring(0,5)=="touch"){var g=a.na.changedTouches[d];f.Sa=new z(g.pageX,g.pageY);f.identifier=g.identifier;d++;if(d>=a.na.changedTouches.length)e=1}else{f.Sa=new z(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop);e=1}if(u(this.ra[f.identifier])){g=
this.ra[f.identifier];for(var j=0;j<g.length;j++)if(g[j][1]==a.type||v(g[j][1])&&La(g[j][1],a.type)>=0){var k=g[j][0];f.Fa=k;f.position=k.Da(f.Sa);g[j][2].call(k,f);c=h}if(a.type=="touchend"||a.type=="touchcancel"||a.type=="mouseup"||a.type=="keyup"){delete f.Fa;f.ob()}}else for(j=0;j<b.length;j++){k=b[j];if(!((this.xa.l.length?this.xa.l[this.xa.l.length-1]:l)!=k.Bb()&&k!=this.xa))if(!(k.Cb||!k.v)){f.Fa=k;if(k.Aa(f)||a.type.substring(0,3)=="key"){f.Fa=k;k.dispatchEvent(f);c=h;if(f.event.qa)break}}}}c&&
a.preventDefault()}};function Re(a){this.Ia=a||window;this.Gb=O(this.Ia,"resize",this.Sd,m,this);this.t=vc(this.Ia||window);if(L&&kb||fb&&this.Ia.self!=this.Ia.top)this.Vb=window.setInterval(ja(this.Vc,this),Se)}y(Re,ec);var Se=500;n=Re.prototype;n.Gb=l;n.Ia=l;n.t=l;n.Vb=l;n.f=function(){return this.t?this.t.d():l};n.da=function(){Re.Xa.da.call(this);if(this.Gb){$b(this.Gb);this.Gb=l}if(this.Vb){window.clearInterval(this.Vb);this.Vb=l}this.t=this.Ia=l};n.Sd=function(){this.Vc()};
n.Vc=function(){var a=vc(this.Ia||window),b;b=this.t;b=a==b?h:!a||!b?m:a.width==b.width&&a.height==b.height;if(!b){this.t=a;this.dispatchEvent("resize")}};function Te(a,b){this.m=1;this.Kb=a;this.ib=b;this.Nd=m}y(Te,ec);Te.prototype.H=function(a){this.m=a;return this};Te.prototype.start=function(){this.ib.b(new z(0,0));ld(this.ib,m);this.fd()};Te.prototype.fd=function(){this.dispatchEvent(new Ab("end"));this.Nd=h};function Ue(a,b,c){P.call(this);this.v=h;this.N(0,0);this.l=[];this.Yc=[];this.gb="lime-director";fd(this);a.appendChild(this.a);if(L&&hb){this.Xc=document.createElement("div");mc(this.Xc,"lime-cover-below");Ac(this.Xc,this.a);this.Wc=document.createElement("div");mc(this.Wc,"lime-cover-above");Bc(this.Wc,this.a)}if(a.style.position!="absolute")a.style.position="relative";a.style.overflow="hidden";if(a==document.body){Kc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";if(/android/i.test(navigator.userAgent))e+=",target-densityDpi=device-dpi";d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(hb&&!s.navigator.ke){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Eb()},100)}}var g;a=Jc(a);this.c(new A(g=b||a.width||Ve,c||a.height*g/a.width||We));this.bd&&Cc(this.Qd);this.Vd=this.bd=m;S.Kd(this,h);if(this.Vd){this.xc=new Oe;
Xe(this,this.xc)}else if(this.xc){if(this.l.length){rd(this.l[this.l.length-1]);this.l[this.l.length-1].g=l;Cc(this.l[this.l.length-1].a);this.l.pop()}delete this.xc}b=new Re;O(b,"resize",this.Eb,m,this);O(s,"orientationchange",this.Eb,m,this);S.Dc(this.Wa,this);this.La=new Qe(this);O(this,["touchmove","touchstart"],function(j){j.event.preventDefault()},m,this);O(this,["mouseup","touchend","mouseout","touchcancel"],function(){},m);this.Eb()}y(Ue,P);var Ve=400,We=400;n=Ue.prototype;n.L=function(){return this};
n.Bb=function(){return l};n.Wa=function(a){if(this.bd){this.kd++;this.Xb+=a;if(this.Xb>100){this.Pd=1E3*this.kd/this.Xb;Ec(this.Qd,this.Pd.toFixed(2));this.Xb=this.kd=0}}pa()};
function Ye(a,b,c){b.c(a.f().d());c=c||Te;var d=l;if(a.l.length)d=a.l[a.l.length-1];for(var e=[],f=a.l.length;--f>=0;){rd(a.l[f]);e.push(a.l[f].a);a.l[f].g=l}a.l.length=0;a.l.push(b);b.a.style.display="none";a.a.appendChild(b.a);b.g=a;qd(b);b=new c(d,b);O(b,"end",function(){for(var g=e.length;--g>=0;)Cc(e[g])},m,a);u(void 0)&&b.H(void 0);b.start()}n.Ha=function(){this.A&=-65};function Xe(a,b){b.c(a.f().d());a.l.push(b);a.a.appendChild(b.a);b.g=a;qd(b)}
n.Da=function(a){a=a.d();a.x-=this.zb.x+this.k.x;a.y-=this.zb.y+this.k.y;a.x/=this.r.x;a.y/=this.r.y;return a};n.qc=function(a){a=a.d();a.x*=this.r.x;a.y*=this.r.y;a.x+=this.zb.x+this.k.x;a.y+=this.zb.y+this.k.y;return a};n.update=function(){P.prototype.update.call(this);for(var a=this.Yc.length;--a>=0;)this.Yc[a].update()};
n.Eb=function(){var a=Jc(this.a.parentNode);if(this.a.parentNode==document.body){window.scrollTo(0,0);if(ca(window.innerHeight))a.height=window.innerHeight}var b;b=this.f().d();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.Ua(b.width/this.f().width);a.width/a.height<b.width/b.height?this.b(0,(a.height-b.height)/2):this.b((a.width-b.width)/2,0);var c=this.a.parentNode,d,e=qc(c),f=Fc(c,"position"),g=gb&&e.getBoxObjectFor&&!c.getBoundingClientRect&&f=="absolute"&&
(d=e.getBoxObjectFor(c))&&(d.screenX<0||d.screenY<0);b=new z(0,0);var j;d=e?e.nodeType==9?e:qc(e):document;if(j=K){j=oc(d);j=!sc(j.ea)}j=j?d.body:d.documentElement;if(c!=j)if(c.getBoundingClientRect){d=c.getBoundingClientRect();if(K){c=c.ownerDocument;d.left-=c.documentElement.clientLeft+c.body.clientLeft;d.top-=c.documentElement.clientTop+c.body.clientTop}e=oc(e);e=!L&&sc(e.ea)?e.ea.documentElement:e.ea.body;e=new z(e.scrollLeft,e.scrollTop);b.x=d.left+e.x;b.y=d.top+e.y}else if(e.getBoxObjectFor&&
!g){d=e.getBoxObjectFor(c);e=e.getBoxObjectFor(j);b.x=d.screenX-e.screenX;b.y=d.screenY-e.screenY}else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;if(d!=c){b.x+=d.clientLeft||0;b.y+=d.clientTop||0}if(L&&Fc(d,"position")=="fixed"){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(fb||L&&f=="absolute")b.y-=e.body.offsetTop;for(d=c;(d=Gc(d))&&d!=e.body&&d!=j;){b.x-=d.scrollLeft;if(!fb||d.tagName!="TR")b.y-=d.scrollTop}}this.zb=b;if(hb&&this.a.parentNode==document.body){if(this.xd){b=
this.xd;Cc(b.ownerNode||b.owningElement||b)}this.xd=Kc("html{height:"+(a.height+120)+"px;overflow:hidden;}")}};n.Aa=function(a){if(a&&a.Sa)a.position=this.Da(a.Sa);return h};function Ze(a,b){Te.call(this,a,b)}y(Ze,Te);Ze.prototype.start=function(){pd(this.ib,0);ld(this.ib,m);var a=Bd((new W(0)).H(this.m));O(a,"stop",function(){this.Kb&&pd(this.Kb,1)},m,this);this.Kb&&ud(this.Kb,a);a=(new W(1)).H(this.m);ud(this.ib,a);O(a,"stop",this.fd,m,this)};var Le=1;
function Ge(){var a=new D,b=(new R).b(360,0);/Chrome\/9\.0\.597/.test(cb())&&dd(b,C);var c=(new U).o("assets/main_title.png").b(0,290);c.Ac=h;b.appendChild(c);var d=(new R).b(0,430);b.appendChild(d);var e=Bd(new be(-720,0)),f=$e("Play Classic").b(0,200);O(f,"click",function(){Wd=0;ud(d,e)});d.appendChild(f);f=$e("Play Timed").b(0,320);O(f,"click",function(){Wd=Le;ud(d,e)});d.appendChild(f);f=$e("Help").b(0,440);O(f,"click",function(){var g=new Fe;Me(g);Ye(Xd,g,Ze)});d.appendChild(f);c=(new R).b(720,0);
d.appendChild(c);f=Z($((new Y).p("Select board size:"),"#fff"),24).b(0,140);c.appendChild(f);f=$e("6x6").b(0,200);O(f,"click",function(){Ne(6)});c.appendChild(f);f=$e("7x7").b(0,320);O(f,"click",function(){Ne(7)});c.appendChild(f);f=$e("8x8").b(0,440);O(f,"click",function(){Ne(8)});c.appendChild(f);a.appendChild(b);Me(a);Ye(Xd,a,Ze)}function $e(a){return(new Ee(a)).c(300,90)}function Ne(a){a=new Ke(a);Ye(Xd,a,Ze)}
function Me(a){var b=(new U).o("assets/lime.png"),c=Z($((new Y).p("Built with"),"#fff"),24).b(290,960);b=(new qe(b)).Ua(0.3).b(410,960);O(b,"click",function(){window.location.href="http://www.limejs.com/"});a.appendChild(c);a.appendChild(b)}
function af(){var a=Xd=new Ue(document.body,720,1004),b=document.createElement("meta");b.name="apple-mobile-web-app-capable";b.content="yes";document.getElementsByTagName("head").item(0).appendChild(b);b=document.createElement("meta");b.name="apple-mobile-web-app-status-bar-style";b.content="black";document.getElementsByTagName("head").item(0).appendChild(b);b=m;if(u(localStorage))b=localStorage.getItem("_lime_visited");if(/(ipod|iphone|ipad)/i.test(navigator.userAgent)&&!window.navigator.ke&&!b&&
a.a.parentNode==document.body){alert("Please install this page as a web app by clicking Share + Add to home screen.");u(localStorage)&&localStorage.setItem("_lime_visited",h)}Ge()}var bf="rb.start".split("."),cf=s;!(bf[0]in cf)&&cf.execScript&&cf.execScript("var "+bf[0]);for(var df;bf.length&&(df=bf.shift());)if(!bf.length&&u(af))cf[df]=af;else cf=cf[df]?cf[df]:cf[df]={};
